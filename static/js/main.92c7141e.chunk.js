(this["webpackJsonpheartbeats-front"]=this["webpackJsonpheartbeats-front"]||[]).push([[0],[,,,,,function(e,t,a){e.exports={menu:"MainMenu_menu__2Oc6h",menuItem:"MainMenu_menuItem__1gIeF",menuText:"MainMenu_menuText__2OA_k",menuIcon:"MainMenu_menuIcon__35iuN",active:"MainMenu_active__3MVAJ",footer:"MainMenu_footer__159k0",footerLink:"MainMenu_footerLink__B2gb2",userSec:"MainMenu_userSec__1Fukq",img:"MainMenu_img__3tYYm",name:"MainMenu_name__2J1U2",header:"MainMenu_header__2fYa6",logoContainer:"MainMenu_logoContainer__6O5ih",logo:"MainMenu_logo__ZH6nj",menuButton:"MainMenu_menuButton__32112",bars:"MainMenu_bars__3VKBp",modal:"MainMenu_modal__CZMw5"}},,,,function(e,t,a){e.exports={editProfile:"EditProfile_editProfile__28jeF",inputGp:"EditProfile_inputGp__35YSt",userLabel:"EditProfile_userLabel__1j_Qx",user:"EditProfile_user__3OvdP",inputHeader:"EditProfile_inputHeader__1EjO5",errorMsg:"EditProfile_errorMsg__33ya2",error:"EditProfile_error__1NBMT",loadingLabel:"EditProfile_loadingLabel__2NjrW",loadingUser:"EditProfile_loadingUser__2xi7W",formFooter:"EditProfile_formFooter__3Q4k6"}},,,,,,,,,function(e,t,a){e.exports={container:"SliderAlbum_container__yL1aU",inside:"SliderAlbum_inside__sTMgX",albumImg:"SliderAlbum_albumImg__2NWac",modal:"SliderAlbum_modal__3J91R",imgHolder:"SliderAlbum_imgHolder__rKDtF",play:"SliderAlbum_play__1u18Y",data:"SliderAlbum_data__1v2xN",name:"SliderAlbum_name__TRYEw",secondary:"SliderAlbum_secondary__2Kflk",playing:"SliderAlbum_playing__3jhSh",mobPlay:"SliderAlbum_mobPlay__vevro"}},function(e,t,a){e.exports={mainContainer:"Auth_mainContainer__2ZJ5T",authContainer:"Auth_authContainer__Vi27R",btnContainer:"Auth_btnContainer__HCTC5",mainText:"Auth_mainText__I8wbo",header:"Auth_header__iXikE",logo:"Auth_logo__3vTq_",switchText:"Auth_switchText__1ptLp",form:"Auth_form__2BEJX",link:"Auth_link__36dDk"}},function(e,t,a){e.exports={container:"SliderSong_container__3LMUm",SliderSong:"SliderSong_SliderSong__2ALkV",SliderSongModal:"SliderSong_SliderSongModal__I4sSP",playIcon:"SliderSong_playIcon__1nQhy",songData:"SliderSong_songData__1PR7w",songName:"SliderSong_songName__Tx1Az",artistName:"SliderSong_artistName__mWKzS",mobContainer:"SliderSong_mobContainer__2uubB",mobImg:"SliderSong_mobImg__2TD_m",mobName:"SliderSong_mobName__1YxxT"}},,function(e,t,a){e.exports={header:"PlaylistHeader_header__twguQ",main:"PlaylistHeader_main__3FzuA",options:"PlaylistHeader_options__Qxh08",placeholder:"PlaylistHeader_placeholder__OOhXJ",img:"PlaylistHeader_img__2qqWK",data:"PlaylistHeader_data__10k1M",basicData:"PlaylistHeader_basicData__2mbDE",play:"PlaylistHeader_play__P66qN",shuffleBtn:"PlaylistHeader_shuffleBtn__1xho5",cantShuffle:"PlaylistHeader_cantShuffle__AtPps",optionsBtn:"PlaylistHeader_optionsBtn__3S0gc",optionsIcon:"PlaylistHeader_optionsIcon__6qatU",playlistIcon:"PlaylistHeader_playlistIcon__2_66P"}},,,,,function(e,t,a){e.exports={rightSec:"SearchSong_rightSec__25HEo",searchImg:"SearchSong_searchImg__19iYB",smallTxt:"SearchSong_smallTxt__2Pmca",artist:"SearchSong_artist__MqQAg",miniTxt:"SearchSong_miniTxt__1ww_m",options:"SearchSong_options__10cRO",optionsImg:"SearchSong_optionsImg__1MTj2",playing:"SearchSong_playing__3ab1L"}},function(e,t,a){e.exports={container:"AddToPlaylist_container__3okvn",loading:"AddToPlaylist_loading__2fO0G",playlist:"AddToPlaylist_playlist__1w6NQ",img:"AddToPlaylist_img__JPv8f",noSongsImg:"AddToPlaylist_noSongsImg__1WF8p",data:"AddToPlaylist_data__3z1sA",name:"AddToPlaylist_name__2vSYh",details:"AddToPlaylist_details__22Ew8",title:"AddToPlaylist_title__1rLRe",authText:"AddToPlaylist_authText__1mZ6b",here:"AddToPlaylist_here__3bMs0",noPlaylists:"AddToPlaylist_noPlaylists__2yiZO"}},function(e,t,a){e.exports={song:"QueueSong_song__1rHZJ",songData:"QueueSong_songData__2-hPG",songImg:"QueueSong_songImg__2Y6gD",songName:"QueueSong_songName__36kVF",artist:"QueueSong_artist__18DYU",options:"QueueSong_options__2Huy9",icon:"QueueSong_icon__l4lbx",playing:"QueueSong_playing__sVbq5",uploadIcon:"QueueSong_uploadIcon__34Rbh",fromuploads:"QueueSong_fromuploads__lr8hk"}},,function(e,t,a){e.exports={header:"Header_header__vtYYa",logoSec:"Header_logoSec__2shi4",logoContainer:"Header_logoContainer__h49Pw",logo:"Header_logo__wV_od",menuButton:"Header_menuButton__tpygV",bars:"Header_bars__1M2kx",middle:"Header_middle__2khX0",glSearch:"Header_glSearch__Ub6be",mobSearchButton:"Header_mobSearchButton__17LU2",searchIcon:"Header_searchIcon__1Zh_n",searchBtnContainer:"Header_searchBtnContainer__33arS"}},function(e,t,a){e.exports={header:"AlbumHeader_header__emQOI",main:"AlbumHeader_main__2fh29",options:"AlbumHeader_options__1l4CM",img:"AlbumHeader_img__2hrOr",data:"AlbumHeader_data__Jssmt",basicData:"AlbumHeader_basicData__1AVyC",play:"AlbumHeader_play__2kTA0",shuffleBtn:"AlbumHeader_shuffleBtn__1nvH0",cantShuffle:"AlbumHeader_cantShuffle__1G2qy",optionsBtn:"AlbumHeader_optionsBtn__1Aw7g",optionsIcon:"AlbumHeader_optionsIcon__22X1g",playlistIcon:"AlbumHeader_playlistIcon__1VOew",artistLink:"AlbumHeader_artistLink__AUP3k"}},function(e,t,a){e.exports={userSec:"UserStatus_userSec__2ZSBT",justFlex:"UserStatus_justFlex__2nZo5",userImg:"UserStatus_userImg__3jSaQ",userText:"UserStatus_userText__vaTwe",imgHolder:"UserStatus_imgHolder__1oXBu",arrow:"UserStatus_arrow__ZFlGW"}},function(e,t,a){e.exports={song:"PlaylistSong_song__CA3ND",songData:"PlaylistSong_songData__bar1-",songImg:"PlaylistSong_songImg__2FUFi",songName:"PlaylistSong_songName__3XHU_",artist:"PlaylistSong_artist__agSo_",options:"PlaylistSong_options__AbmzI",icon:"PlaylistSong_icon__zWkcH",playing:"PlaylistSong_playing__11Zxv"}},function(e,t,a){e.exports={searchContainer:"SearchBar_searchContainer__1oxX9",sic:"SearchBar_sic__qQxjW",userSec:"SearchBar_userSec__2c2a9",searchBar:"SearchBar_searchBar__K1zOk",noBottomRadius:"SearchBar_noBottomRadius__169bg",mobSearchContainer:"SearchBar_mobSearchContainer__3O1xz",mobSearchBar:"SearchBar_mobSearchBar__3Mku6",searchCancel:"SearchBar_searchCancel__1QNeh",xicon:"SearchBar_xicon__2WbWO"}},function(e,t,a){e.exports={audioContainer:"AudioPlayer_audioContainer__vdIaQ",audioControls:"AudioPlayer_audioControls__39ZSz",hidden:"AudioPlayer_hidden__YzP7l",mobAudioPlayer:"AudioPlayer_mobAudioPlayer__1KNQi",mobAudioPlayerData:"AudioPlayer_mobAudioPlayerData__1S3c7",mobPlayIcon:"AudioPlayer_mobPlayIcon__1LQKp",mobOptionsIcon:"AudioPlayer_mobOptionsIcon__3nvem"}},function(e,t,a){e.exports={songData:"SongData_songData__2M43y",flexStart:"SongData_flexStart__249wF",centerFlex:"SongData_centerFlex__3X3ni",imgHolder:"SongData_imgHolder__1vFUw",flexColumn:"SongData_flexColumn__1gJgf",AudioPlayerSongName:"SongData_AudioPlayerSongName__3bd7M",AudioPlayerArtistName:"SongData_AudioPlayerArtistName__1Lf7P"}},function(e,t,a){e.exports={audioControls:"AudioControls_audioControls__1I9IH",shuffleRepeatIcon:"AudioControls_shuffleRepeatIcon__1-q7g",nextPrevIcon:"AudioControls_nextPrevIcon__3AzRd",playPauseIcon:"AudioControls_playPauseIcon__AmMdE"}},function(e,t,a){e.exports={error:"ErrorBoundary_error__3ptTj",header:"ErrorBoundary_header__2YWpE",title:"ErrorBoundary_title__o6X8q",icon:"ErrorBoundary_icon__20DBR",container:"ErrorBoundary_container__1MoPs",msg:"ErrorBoundary_msg__3Lniz",errorBtn:"ErrorBoundary_errorBtn__33lVl"}},function(e,t,a){e.exports={header:"ArtistHeader_header__1Toco",img:"ArtistHeader_img__2bZHL",data:"ArtistHeader_data__1N5s9",basicData:"ArtistHeader_basicData__XZyX9",play:"ArtistHeader_play__3sFUQ",followBtn:"ArtistHeader_followBtn__7BSKn",checked:"ArtistHeader_checked__3qbVc"}},function(e,t,a){e.exports={uploads:"Uploads_uploads__rUjul",header:"Uploads_header__2QU0_",mainText:"Uploads_mainText__1dFEK",icon:"Uploads_icon__1Nf3X",button:"Uploads_button__3kcEI",content:"Uploads_content__1wduf",noUploads:"Uploads_noUploads__3FoZ7"}},function(e,t,a){e.exports={song:"UploadedSong_song__xMoWy",songData:"UploadedSong_songData__N_jz_",songImg:"UploadedSong_songImg__IXKYj",songName:"UploadedSong_songName__16z-8",artist:"UploadedSong_artist__23kHJ",options:"UploadedSong_options__YKQ2M",icon:"UploadedSong_icon__O-JgX",up:"UploadedSong_up__6dBqm",playing:"UploadedSong_playing__1be76"}},function(e,t,a){e.exports={playlist:"UserPlaylist_playlist__LktP-",playlistData:"UserPlaylist_playlistData__2mtOx",img:"UserPlaylist_img__33all",noSongsImg:"UserPlaylist_noSongsImg__3zNZn",playlistImg:"UserPlaylist_playlistImg__20KPN",playlistName:"UserPlaylist_playlistName__ab-TR",sec:"UserPlaylist_sec__3YS_8",options:"UserPlaylist_options__3bdHu",icon:"UserPlaylist_icon__1s1dH",plIcon:"UserPlaylist_plIcon__2zuSt",playing:"UserPlaylist_playing__19lHx"}},function(e,t,a){e.exports={upload:"CreatePlaylist_upload__2SpSG",header:"CreatePlaylist_header__1Rxfv",mainText:"CreatePlaylist_mainText__iGePq",fileContainer:"CreatePlaylist_fileContainer__3Kqko",footer:"CreatePlaylist_footer__1lP-k",input:"CreatePlaylist_input__2hFoX",button:"CreatePlaylist_button__20xQE",icon:"CreatePlaylist_icon__18SvM",inputContainer:"CreatePlaylist_inputContainer__2L-DV",errorMsg:"CreatePlaylist_errorMsg__3_nM9",error:"CreatePlaylist_error__209OZ"}},function(e,t,a){e.exports={audioOptions:"AudioOptions_audioOptions__3ZZ52",options:"AudioOptions_options__aUqxX",optionIcon:"AudioOptions_optionIcon__1iEQA"}},function(e,t,a){e.exports={header:"Playlist_header__3OCH_",playlist:"Playlist_playlist__1HhtP",loadingTemp:"Playlist_loadingTemp__3hNX2",loadingData:"Playlist_loadingData__1QTmK",loadingImg:"Playlist_loadingImg__1Lqxd",loadingName:"Playlist_loadingName__3wpgO",loadingArtist:"Playlist_loadingArtist__1Hq5-"}},function(e,t,a){e.exports={progressBarContainer:"ProgressBar_progressBarContainer__z8oIU",progressBar:"ProgressBar_progressBar__2WqFf",progressBall:"ProgressBar_progressBall__2ojvI",progress:"ProgressBar_progress__10l01",audioTime:"ProgressBar_audioTime__3mxzp"}},function(e,t,a){e.exports={loading:"Artists_loading__3koRC",mainContainer:"Artists_mainContainer__WVhhU",container:"Artists_container__3wgy4",imgHolder:"Artists_imgHolder__2t-vw",name:"Artists_name__1-AHR"}},function(e,t,a){e.exports={confirmation:"Confirmation_confirmation__of2yN",msgContainer:"Confirmation_msgContainer__3Hb2U",msg:"Confirmation_msg__kJzmF",options:"Confirmation_options__21dam",confirm:"Confirmation_confirm__2fyqN",cancel:"Confirmation_cancel__RRdrl"}},function(e,t,a){e.exports={header:"UserHeader_header__2aDgq",loading:"UserHeader_loading__247Lq",img:"UserHeader_img__1h6bj",data:"UserHeader_data__3Y3og",userName:"UserHeader_userName__2Kl5z",sec:"UserHeader_sec__3SydD"}},function(e,t,a){e.exports={playlists:"Playlists_playlists__2oZMf",header:"Playlists_header__etQoN",mainText:"Playlists_mainText__3x2VE",icon:"Playlists_icon__XAMkH",button:"Playlists_button__5Fg4J",content:"Playlists_content__1jpTO",noPlaylists:"Playlists_noPlaylists__3Eiaf"}},,function(e,t,a){e.exports={rightSec:"SearchArtist_rightSec__3924r",searchImg:"SearchArtist_searchImg__3JZgu",smallTxt:"SearchArtist_smallTxt__-DxC5",artist:"SearchArtist_artist__1ooaU",miniTxt:"SearchArtist_miniTxt__32PuO"}},function(e,t,a){e.exports={volumeBarContainer:"VolumeBar_volumeBarContainer__2z2Zd",insideVolumeBar:"VolumeBar_insideVolumeBar__knCZU",volumeBar:"VolumeBar_volumeBar__15chK",volumeBarProgress:"VolumeBar_volumeBarProgress__3k7w2",volumeBarBall:"VolumeBar_volumeBarBall__3diE-",hide:"VolumeBar_hide__1LPpJ"}},function(e,t,a){e.exports={mainRow:"Slider_mainRow__3xhOw",sliderContainer:"Slider_sliderContainer__hLFSw",sliderArrow:"Slider_sliderArrow__wfx7z",slider:"Slider_slider__gA-z-",sliderSongContainer:"Slider_sliderSongContainer__1oTxO",sliderSong:"Slider_sliderSong__2m7Af"}},,,,function(e,t,a){e.exports={searchResults:"SearchResults_searchResults__1PrX4",hide:"SearchResults_hide__2r_NN",noHover:"SearchResults_noHover__3iYre",noBottomRadius:"SearchResults_noBottomRadius__oCP14",mobSearchResults:"SearchResults_mobSearchResults__2m2o5"}},function(e,t,a){e.exports={flash:"Flash_flash__qSO9b",appear:"Flash_appear__33S8m",disAppear:"Flash_disAppear__WL8zf",msg:"Flash_msg__197HM"}},function(e,t,a){e.exports={queueContainer:"Queue_queueContainer__huGq1",flexStart:"Queue_flexStart__2q20R",flexCenter:"Queue_flexCenter__2XUDL",hide:"Queue_hide__37QPE",queueRow:"Queue_queueRow__a0LcX",queueSongData:"Queue_queueSongData__1urEC",queueImg:"Queue_queueImg__2M4-s",queueSongName:"Queue_queueSongName__1VVYM",playing:"Queue_playing__2f6pq",artistName:"Queue_artistName__2q4TU",queueOptions:"Queue_queueOptions__N-lZz",queueIcons:"Queue_queueIcons__3iz2f"}},function(e,t,a){e.exports={container:"Input_container__3FZxp",input1:"Input_input1__12xBG",error:"Input_error__2prLl",errorText:"Input_errorText__1aSbG"}},,,,function(e,t,a){e.exports={options:"Options_options__HONOX",option:"Options_option__3R0at"}},function(e,t,a){e.exports={artistContainer:"SliderArtist_artistContainer__2ukuo",artistImg:"SliderArtist_artistImg__2i8L_",artistName:"SliderArtist_artistName__1OwC8"}},function(e,t,a){e.exports={loading:"PlaylistPage_loading__3eEE2",playlistData:"PlaylistPage_playlistData__3PPir",data:"PlaylistPage_data__37Gxg",basicData:"PlaylistPage_basicData__16qQb",playlistContent:"PlaylistPage_playlistContent__3R8Os",noSongs:"PlaylistPage_noSongs__3aYJL"}},function(e,t,a){e.exports={container:"NotFound_container__2Fqym",text:"NotFound_text__1SXYS",warning:"NotFound_warning__yiujv"}},,,,,,,,,,,,,,,,function(e,t,a){e.exports={button1:"Button_button1__35aR0",search:"Button_search__3YE9s",shuffle:"Button_shuffle__1UWYW",repeat:"Button_repeat__EMOcM","next-prev":"Button_next-prev__2xK9Y",play:"Button_play___I4De",audioOptions:"Button_audioOptions__2boW7",queueOptions:"Button_queueOptions__367Xp",sliderButton:"Button_sliderButton__2iP31"}},function(e,t,a){e.exports={buttonSpinner:"Spinner_buttonSpinner__3x3c8",spin:"Spinner_spin__30pjh",searchSpinner:"Spinner_searchSpinner__3Unfa"}},function(e,t,a){e.exports={floating:"Floating_floating__1Uwww"}},function(e,t,a){e.exports={loading:"Home_loading__1uxh3"}},function(e,t,a){e.exports={loading:"Artist_loading__18ESP",artistData:"Artist_artistData__3BYbO",img:"Artist_img__2hvm4",data:"Artist_data__2kwmj",basicData:"Artist_basicData__2uVCf",name:"Artist_name__1whUK",sec:"Artist_sec__3OHE-",play:"Artist_play__3ffzu"}},function(e,t,a){e.exports={loading:"Album_loading__2ijRD",albumData:"Album_albumData__3xRQb",img:"Album_img__2yx55",data:"Album_data__322Ta",basicData:"Album_basicData__3D-6F",name:"Album_name__3zOzT",sec:"Album_sec__2VLo7",play:"Album_play__69tcT"}},function(e,t,a){e.exports={noLikes:"Likes_noLikes__KFTjm"}},,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(63),i=a.n(r),o=a(57),c=a(7),l=a(3),u={audioPlaying:!1,currentSong:{},currentPlaylist:[],currentPlaylistSongs:[],currentIndex:null,showQueue:!1,fetchingSong:!0,userShouldUpdate:!1,playingFromUploads:!1,shuffle:!1,flashMessage:null,fetchingSongError:null,error:null,showMenu:window.innerWidth>=1250},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_QUEUE":return Object(l.a)(Object(l.a)({},e),{},{showQueue:t.show});case"SET_PLAYING":return Object(l.a)(Object(l.a)({},e),{},{audioPlaying:t.play});case"SET_CURRENT_SONG":return Object(l.a)(Object(l.a)({},e),{},{currentSong:t.songData,currentPlaylist:t.playlist,audioPlaying:t.play,currentIndex:t.index,fetchingSong:t.fetchingSong,playingFromUploads:t.playingFromUploads,shuffle:t.shuffle});case"SET_CURRENT_PLAYLIST":return Object(l.a)(Object(l.a)({},e),{},{currentPlaylist:t.playlist});case"SET_FETCHING_SONG":return Object(l.a)(Object(l.a)({},e),{},{fetchingSong:t.fetching});case"SET_FETCHING_SONG_ERROR":return Object(l.a)(Object(l.a)({},e),{},{fetchingSongError:t.error});case"CHANGE_LIKE":return Object(l.a)(Object(l.a)({},e),{},{currentSong:Object(l.a)(Object(l.a)({},e.currentSong),{},{isLiked:t.like})});case"SET_VOLUME":return Object(l.a)(Object(l.a)({},e),{},{volume:t.volume,mute:0===t.volume});case"SET_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.error});case"SHOW_MENU":return Object(l.a)(Object(l.a)({},e),{},{showMenu:t.show});default:return e}},m=(a(101),a(17)),p=a(12),h=a(13),g=a(15),j=a(14),b=a(10),f=a.n(b),_=a(6),O=a(31),x=a.n(O),y=a(2),v=a(35),S=a.n(v),N=a(85),w=a.n(N),P=a(86),I=a.n(P),k=a(0),T=function(e){return Object(k.jsx)("div",{className:I.a[e.shape]})},C=function(e){var t=e.loading?Object(k.jsx)(T,{shape:e.spinner}):e.children,a=[w.a[e.shape]];return a.push(e.otherClasses),Object(k.jsx)("button",{id:e.id,className:a.join(" "),onClick:e.click,ref:e.forwardedRef,style:e.customStyle,children:t})},L=a.p+"static/media/search.28b6f036.svg",A=a.p+"static/media/cancel.31a2f635.svg",E=function(e){var t=Object(n.useState)(window.innerWidth),a=Object(y.a)(t,2),s=a[0],r=a[1];Object(n.useEffect)((function(){window.addEventListener("resize",(function(){r(window.innerWidth)}))}),[]);var i,o={type:"text",name:"search",autoComplete:"off",placeholder:"Search for Artists, Songs"};return s>=800?i=Object(k.jsxs)("div",{className:S.a.searchContainer,children:[Object(k.jsx)("input",Object(l.a)(Object(l.a)({className:S.a.searchBar+" "+(e.shouldResultsAppear?S.a.noBottomRadius:"")},o),{},{onKeyUp:e.keyup,onFocus:e.focus})),Object(k.jsx)(C,{shape:"search",loading:e.searching,spinner:"searchSpinner",otherClasses:e.shouldResultsAppear?S.a.noBottomRadius:"",children:Object(k.jsx)("img",{src:L,className:S.a.sic})})]}):s<800&&(i=Object(k.jsxs)("div",{className:S.a.mobSearchContainer,style:{display:e.show?"flex":"none"},children:[Object(k.jsx)("input",Object(l.a)(Object(l.a)({className:S.a.mobSearchBar},o),{},{onKeyUp:e.keyup,onFocus:e.focus})),Object(k.jsx)("button",{className:S.a.searchCancel,onClick:e.onCancel,children:Object(k.jsx)("img",{src:A,className:S.a.xicon})})]})),i},D=a(59),B=a.n(D),M=a(8),U=a.n(M),R=a(16),F=a(27),H=a.n(F),W=a.p+"static/media/dark-play.2bfc2670.svg",q=a.p+"static/media/dark-pause.100300d9.svg",Y=a.p+"static/media/dark-like.8a13ac76.svg",V=a.p+"static/media/dark-liked.10d497e6.svg",G=a.p+"static/media/dark-options.f97f2591.svg",Q=a(21),z=f.a.create({baseURL:"https://heartbeatsproject.online/v1/"});z.interceptors.request.use((function(e){return null!==localStorage.getItem("accessToken")&&(e.headers.Authorization=localStorage.getItem("accessToken")),e}));var X=z,J=a(4),K=a.n(J),Z=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},$=function(e,t){return new Promise((function(a){var n=localStorage.getItem("userId"),s=t?"DELETE":"POST",r="POST"===s?"users/"+n+"/likes":"users/"+n+"/likes/"+e,i="POST"===s?JSON.stringify({songId:e}):"";X({method:s,headers:{"Content-Type":"application/json"},url:r,data:i}).then((function(t){if(200===t.status||201===t.status){var n=new CustomEvent("like",{detail:{id:e,like:"post"===s.toLocaleLowerCase()}});window.dispatchEvent(n),a({error:!1,status:t.status,change:!0,like:"post"===s.toLocaleLowerCase()})}})).catch((function(e){return console.log(e)}))}))},ee=function(){var e=Object(R.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){te()?f()({method:"GET",url:"sessions/".concat(localStorage.getItem("sessId"))}).then((function(t){if(200===t.status&&t.data.data==localStorage.getItem("userId")){e(!0);var a=new CustomEvent("userShouldUpdate");window.dispatchEvent(a)}else{ne();var n=new CustomEvent("userShouldUpdate");window.dispatchEvent(n),e(!0)}})).catch((function(t){ne();var a=new CustomEvent("userShouldUpdate");window.dispatchEvent(a),e(!1)})):(ne(),e(!1))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){return null!==localStorage.getItem("sessId")&&null!==localStorage.getItem("accessToken")&&null!==localStorage.getItem("userId")||(se(),!1)},ae=function(){var e=Object(R.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){X({method:"DELETE",url:"sessions/".concat(localStorage.getItem("sessId"))}).then((function(t){ne();var a=new CustomEvent("userShouldUpdate");window.dispatchEvent(a),e()})).catch((function(t){ne();var a=new CustomEvent("userShouldUpdate");window.dispatchEvent(a),e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){se()},se=function(){localStorage.removeItem("sessId"),localStorage.removeItem("accessToken"),localStorage.removeItem("userId")},re=function(e,t){var a=!0,n="";return t.required&&!(a=""!==e.trim()&&a)?{isValid:a,msg:n="This input can't be empty"}:t.minLength&&!(a=e.length>=t.minLength&&a)?{isValid:a,msg:n="Please enter a value longer than "+t.minLength+" characters"}:t.maxLength&&!(a=e.length<=t.maxLength&&a)?{isValid:a,msg:n="Please enter a value less than "+t.maxLength+" characters"}:{isValid:a,msg:n}},ie=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(window.innerWidth<800)return{top:"50%",left:"50%"};var n=40,s=150,r=t*n,i=K()(window).scrollTop(),o=K()(e).offset().top+K()(e).height(),c=K()(e).offset().left-s,l=o-i,u=K()(window).height(),d=u-l<r;return d&&(o-=r),a&&(o-=i),{top:o,left:c}},oe=function(){var e=Object(R.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){X({method:"DELETE",url:"playlists/".concat(t)}).then((function(t){200===t.status&&e(!0)})).catch((function(t){e(!1)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){return function(t,a){if(a().currentSong.id!==e.id||a.playingFromUploads!==e.uploads){var n=a().currentPlaylist!==e.playlist;t(le(!0)),X({method:"GET",url:e.uploads?"users/".concat(localStorage.getItem("userId"),"/uploads/").concat(e.id):"songs/".concat(e.id)}).then((function(a){var s=a.data.data;t(ue({songData:s,playlist:e.playlist,play:e.play,uploads:!!e.hasOwnProperty("uploads")&&e.uploads,shuffle:!!e.hasOwnProperty("shuffle")&&e.shuffle})),te()&&(X({headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",url:"users/".concat(localStorage.getItem("userId"),"/plays"),data:JSON.stringify({id:e.id,uploads:!!e.hasOwnProperty("uploads")&&e.uploads})}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),n&&X({headers:{Accept:"application/json","Content-Type":"application/json"},method:"PATCH",url:"users/".concat(localStorage.getItem("userId")),data:JSON.stringify({lastPlaylist:e.playlist})}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})))})).catch((function(e){console.log(e.response)}))}}},le=function(e){return{type:"SET_FETCHING_SONG",fetching:e}},ue=function(e){return{type:"SET_CURRENT_SONG",fetchingSong:!1,songData:e.songData,playlist:e.playlist,play:e.play,index:e.playlist.indexOf(e.songData.id),playingFromUploads:e.uploads,shuffle:e.shuffle}},de=function(e){return function(t,a){if(!a().playingFromUploads&&a().currentSong.id!=e&&a().currentPlaylist[a().currentIndex+1]!=e){var n=Object(Q.a)(a().currentPlaylist);n.splice(a().currentIndex+1,0,e),t({type:"SET_CURRENT_PLAYLIST",playlist:n})}}},me=a(66),pe=a.n(me),he=a(87),ge=a.n(he),je=function(e){return Object(k.jsx)("div",{id:"modal",className:ge.a.floating,onClick:function(t){"modal"===t.target.id&&e.destroy&&e.destroy()},style:{display:e.open?"flex":"none"},children:e.children})},be=function(e){var t=Object(n.useRef)(null);Object(n.useEffect)((function(){window.addEventListener("scroll",(function(){window.innerWidth>600&&e.destroy()})),document.addEventListener("click",(function(a){t&&t.current&&(t.current.contains(a.target)||e.destroy())}))}),[]);var a=null;return e.options&&(a=e.options.map((function(t){return Object(k.jsx)("button",{className:pe.a.option,onClick:function(){return(0,t.todo)(),void e.destroy()},children:t.text},t.text)}))),window.innerWidth>=800?Object(k.jsx)("div",{className:pe.a.options,ref:t,style:{top:e.position.top+"px",left:e.position.left+"px"},children:a}):window.innerWidth<800?Object(k.jsx)(je,{open:!0,destroy:e.destroy,children:Object(k.jsx)("div",{className:pe.a.options,ref:t,style:{top:e.position.top+"px",left:e.position.left+"px"},children:a})}):void 0},fe=a(28),_e=a.n(fe),Oe=a(60),xe=a.n(Oe);var ye=function(e){var t=Object(n.useState)(!0),a=Object(y.a)(t,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){var e=!0;return setTimeout((function(){e&&r(!1)}),2e3),function(){e=!1}}),[]),Object(k.jsx)("div",{className:"".concat(xe.a.flash," ").concat(s?xe.a.appear:xe.a.disAppear),children:Object(k.jsx)("span",{className:xe.a.msg,children:e.msg})})},ve=a(39),Se=a.n(ve),Ne=a.p+"static/media/warning.ed5d2f14.svg",we=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={error:null},e}return Object(h.a)(a,[{key:"componentWillMount",value:function(){var e=this;X.interceptors.request.use((function(t){return e.props.setError(null),t})),X.interceptors.response.use((function(e){return e}),(function(t){t.response?e.props.setError(t.response.data.msg):e.props.setError(t.message)}))}},{key:"componentWillReceiveProps",value:function(e){e.error!==this.state.error&&this.setState({error:e.error})}},{key:"render",value:function(){var e=this;return Object(k.jsxs)(s.a.Fragment,{children:[null!==this.state.error?Object(k.jsx)(je,{open:!0,destroy:function(){return e.props.setError(null)},children:Object(k.jsxs)("div",{className:Se.a.error,children:[Object(k.jsxs)("div",{className:Se.a.header,children:[Object(k.jsx)("img",{className:Se.a.icon,src:Ne}),Object(k.jsx)("span",{className:Se.a.title,children:"Error"})]}),Object(k.jsx)("div",{className:Se.a.container,children:Object(k.jsx)("span",{className:Se.a.msg,children:this.state.error})}),Object(k.jsx)("div",{className:Se.a.container,children:Object(k.jsx)("button",{className:Se.a.errorBtn,onClick:function(){return e.props.setError(null)},children:"Ok"})})]})}):null,this.props.children]})}}]),a}(n.Component),Pe=Object(c.b)((function(e){return{error:e.error}}),(function(e){return{setError:function(t){return e({type:"SET_ERROR",error:t})}}}))(we),Ie=function(e){return function(t){Object(g.a)(n,t);var a=Object(j.a)(n);function n(){return Object(p.a)(this,n),a.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(k.jsx)(Pe,{children:Object(k.jsx)(e,Object(l.a)({},this.props))})}}]),n}(n.Component)},ke=Object(c.b)((function(e){return{isPlaying:e.audioPlaying}}),(function(e){return{setPlay:function(t){return e({type:"SET_PLAY",play:t})}}}))(Ie((function(e){var t=Object(n.useState)(null),a=Object(y.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(!0),c=Object(y.a)(o,2),u=c[0],d=c[1],m=Object(n.useState)(!1),p=Object(y.a)(m,2),h=p[0],g=p[1],j=Object(n.useState)(null),b=Object(y.a)(j,2),O=b[0],x=b[1];Object(n.useEffect)((function(){var e=f.a.CancelToken.source();return S(e),function(){e.cancel()}}),[]);var v,S=function(){var e=Object(R.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:e.sent?f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"),"/playlists"),cancelToken:t.token}).then((function(e){g(!0),d(!1),200===e.status&&(0===e.data.data.length?i(null):i(e.data.data))})).catch((function(e){return d(!1)})):(g(!1),d(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u?v=Object(k.jsx)(T,{shape:"buttonSpinner"}):u||null!==r?!u&&null!==r&&h?v=r.map((function(t){return Object(k.jsxs)("div",{className:_e.a.playlist,onClick:function(){return function(t){if(t.songIds,null!==t.songIds&&t.songIds.includes(e.songId))alert("This playlist already has this song");else{var a=null===t.songIds?[e.songId]:[e.songId].concat(Object(Q.a)(t.songIds));X({headers:{Accept:"application/json","Content-Type":"application/json"},method:"PATCH",url:"playlists/".concat(t.id),data:JSON.stringify({songIds:a})}).then((function(n){if(200===n.status){x("Done!");var s=new CustomEvent("addToPlaylist",{detail:{songId:e.songId,playlistId:t.id}});window.dispatchEvent(s);var o=r.map((function(e){return e.id==t.id?Object(l.a)(Object(l.a)({},e),{},{songIds:a,imgUrl:n.data.data.imgUrl}):e}));i(o)}})).catch((function(e){return console.log(e.response)}))}}(t)},children:[Object(k.jsx)("div",{className:"".concat(_e.a.img," ").concat(null===t.songIds?_e.a.noSongsImg:""),style:{backgroundImage:"url(".concat(t.imgUrl,")")}}),Object(k.jsxs)("div",{className:_e.a.data,children:[Object(k.jsx)("span",{className:_e.a.name,children:t.name}),Object(k.jsx)("span",{className:_e.a.details,children:"".concat(null===t.songIds?"0":t.songIds.length," Songs")})]})]},t.id)})):h||(v=Object(k.jsxs)("span",{className:_e.a.authText,children:["Please login ",Object(k.jsx)(_.b,{to:{pathname:"/auth",state:{comingFrom:window.location.pathname}},className:_e.a.here,children:" here "})," to see your playlists"]})):v=Object(k.jsx)("span",{className:_e.a.noPlaylists,children:"You don't have playlists"}),Object(k.jsxs)(s.a.Fragment,{children:[null!==O?Object(k.jsx)(ye,{msg:O,destroy:function(){return x(null)}}):null,Object(k.jsxs)("div",{className:"".concat(_e.a.container," ").concat(u||!u&&!h?_e.a.loading:""),children:[Object(k.jsx)("span",{className:_e.a.title,children:"Your Playlists"}),v]})]})})));var Te=Object(c.b)((function(e){return{play:e.audioPlaying,currentSong:e.currentSong,currentPlaylist:e.currentPlaylist,currentIndex:e.currentIndex,playingFromUploads:e.playingFromUploads}}),(function(e){return{setPlay:function(t){return e({type:"SET_PLAYING",play:t})},setTrack:function(t,a,n){return e(ce(t))},changeLike:function(t){return e({type:"CHANGE_LIKE",like:t})},playNext:function(t){return e(de(t))}}}))((function(e){var t=e.currentSong.id===e.songData.id&&!e.playingFromUploads,a=Object(n.useState)(!1),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(!1),l=Object(y.a)(c,2),u=l[0],d=l[1],m=Object(n.useState)(null),p=Object(y.a)(m,2),h=p[0],g=p[1],j=Object(n.useState)(null),b=Object(y.a)(j,2),f=b[0],O=b[1],x=Object(n.useRef)(null);Object(n.useEffect)((function(){e.parent&&e.parent.addEventListener("scroll",(function(){d(!1)}))}),[]);var v=function(){var e=Object(R.a)(U.a.mark((function e(t,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te()){e.next=3;break}return O("Please login or register to like a song"),e.abrupt("return");case 3:return e.next=5,$(t,a);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=[{text:"Add to playlist",todo:function(){return o(!0)}},{text:"Play next",todo:function(){e.playingFromUploads?O("Sorry, Can't play next while you're listening to your uploads playlist"):t?O("Already playing"):(e.playNext(e.songData.id),O("Will Play Next"))}}];return Object(k.jsxs)(s.a.Fragment,{children:[null!==f?Object(k.jsx)(ye,{msg:f,destroy:function(){return O(null)}}):null,i?Object(k.jsx)(je,{open:i,destroy:function(){return o(!1)},children:Object(k.jsx)(ke,{songId:e.songData.id,destroy:function(){return o(!1)}})}):null,u?Object(k.jsx)(be,{position:h,options:S,destroy:function(){return d(!1)}}):null,Object(k.jsxs)("div",{className:"result "+(1===e.searchResultsLength?"noBorder":""),children:[Object(k.jsxs)("div",{className:H.a.rightSec,children:[Object(k.jsx)("img",{src:e.songData.imgUrl,className:H.a.searchImg}),Object(k.jsx)("span",{className:H.a.smallTxt+" "+(t?H.a.playing:""),children:e.songData.name})]}),Object(k.jsx)(_.b,{to:"/artist/"+e.songData.artistName,className:"link "+H.a.artist,children:Object(k.jsx)("span",{className:H.a.miniTxt,children:e.songData.artistName})}),Object(k.jsxs)("div",{className:H.a.options,children:[Object(k.jsx)(C,{shape:"queueOptions",click:function(){t?e.setPlay(!e.play):e.setTrack({id:e.songData.id,playlist:e.currentPlaylist,play:!0,uploads:!1})},children:e.play&&t?Object(k.jsx)("img",{src:q,className:H.a.optionsImg}):Object(k.jsx)("img",{src:W,className:H.a.optionsImg})}),Object(k.jsx)(C,{shape:"queueOptions",click:function(t,a){return v(e.songData.id,e.songData.isLiked)},children:e.songData.isLiked?Object(k.jsx)("img",{src:V,className:H.a.optionsImg}):Object(k.jsx)("img",{src:Y,className:H.a.optionsImg})}),Object(k.jsx)(C,{shape:"queueOptions",click:function(){g(ie(x.current,S.length,!0)),d(!u)},forwardedRef:x,children:Object(k.jsx)("img",{src:G,className:H.a.optionsImg})})]})]})]})})),Ce=a(53),Le=a.n(Ce);var Ae=function(e){return Object(k.jsxs)("div",{className:"result "+(1===e.searchResultsLength?"noBorder":""),children:[Object(k.jsxs)("div",{className:Le.a.rightSec,children:[Object(k.jsx)("img",{src:e.artistData.imgUrl,className:Le.a.searchImg}),Object(k.jsx)(_.b,{to:"/artist/".concat(e.artistData.id),children:Object(k.jsx)("span",{className:Le.a.smallTxt,children:e.artistData.name})})]}),Object(k.jsx)("div",{className:"link "+Le.a.artist,children:Object(k.jsx)("span",{className:Le.a.miniTxt,children:"Artist"})})]})};var Ee=function(e){var t,a,s=Object(n.useRef)(null),r=Object(n.useState)(window.innerWidth),i=Object(y.a)(r,2),o=i[0],c=i[1];return Object(n.useEffect)((function(){window.addEventListener("resize",(function(){c(window.innerWidth)}))}),[]),t=0===e.searchResults.length?Object(k.jsx)("div",{className:"result flexCenter "+B.a.noHover,children:"No Results Found"}):e.searchResults.map((function(t){return"song"===t.type.toLowerCase()?Object(k.jsx)(Te,{songData:t,searchResultsLength:e.searchResultsLength,parent:s.current},t.id+Math.random()):"artist"===t.type.toLowerCase()?Object(k.jsx)(Ae,{artistData:t,searchResultsLength:e.searchResultsLength},t.id+Math.random()):void 0})),o>=800?a=Object(k.jsx)("div",{className:B.a.searchResults+" "+(e.shouldResultsAppear?"":B.a.hide),ref:s,children:t}):o<800&&(a=Object(k.jsx)("div",{className:B.a.mobSearchResults,style:{display:e.shouldResultsAppear?"flex":"none"},children:t})),a},De=a(33),Be=a.n(De),Me=a.p+"static/media/default-user.0c45eb8f.svg",Ue=a.p+"static/media/arrowDown.f472792e.svg",Re=function(e){var t=Object(m.g)(),a=Object(n.useState)(null),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(!1),l=Object(y.a)(c,2),u=l[0],d=l[1],p=Object(n.useState)(!1),h=Object(y.a)(p,2),g=h[0],j=h[1],b=Object(n.useState)(null),O=Object(y.a)(b,2),x=O[0],v=O[1],S=Object(n.useRef)(null),N=function(){ne(),o(null),d(!1)},w=function(){te()?(d(!0),f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"))}).then((function(e){200===e.status?(o(e.data.data),d(!1)):N()})).catch((function(e){return N()}))):N()};Object(n.useEffect)((function(){return w(),window.addEventListener("userShouldUpdate",w),function(){window.removeEventListener("userShouldUpdate",w)}}),[]);var P,I=[{text:"Your profile",todo:function(){return t.push("/profile")}},{text:"Edit your information",todo:function(){return t.push("/profile/edit")}},{text:"Your playlists",todo:function(){return t.push("/playlists")}},{text:"Your likes",todo:function(){return t.push("/likes")}},{text:"Your uploads",todo:function(){return t.push("/uploads")}},{text:"Logout",todo:ae}];return u?P=Object(k.jsx)(T,{shape:"buttonSpinner"}):u||null===i?u||null!==i||(P=Object(k.jsx)(_.b,{className:"link",to:{pathname:"/auth",state:{comingFrom:window.location.pathname}},children:Object(k.jsxs)("div",{className:Be.a.justFlex,children:[Object(k.jsx)("img",{src:Me,className:Be.a.userImg}),Object(k.jsx)("span",{className:Be.a.userText,children:"Log in"})]})})):P=Object(k.jsxs)(s.a.Fragment,{children:[g?Object(k.jsx)(be,{position:x,options:I,destroy:function(){return j(!1)}}):null,Object(k.jsxs)("div",{className:Be.a.justFlex,children:[Object(k.jsxs)(_.b,{to:"/profile",className:"".concat(Be.a.justFlex," link"),children:[Object(k.jsx)("img",{src:i.imgUrl,className:Be.a.userImg}),Object(k.jsx)("span",{className:Be.a.userText,children:window.innerWidth>=600?i.firstName+" "+i.lastName:i.firstName.charAt(0)+""+i.lastName.charAt(0)})]}),Object(k.jsx)("button",{className:Be.a.imgHolder,ref:S,onClick:function(){v(ie(S.current,I.length,!0)),j(!g)},children:Object(k.jsx)("img",{src:Ue,className:Be.a.arrow})})]})]}),Object(k.jsx)("div",{className:Be.a.userSec,children:P})},Fe=a.p+"static/media/menu.6ee55e52.svg",He=a.p+"static/media/widelogo.706c71ac.svg",We=a.p+"static/media/lightSearch.c5599d6c.svg",qe=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={searchResults:[],shouldResultsAppear:!1,searching:!1,mobShow:!1,windowWidth:window.innerWidth},n.onLikeHandler=function(e){if(!(n.state.searchResults.length<1)&&n.state.searchResults.filter((function(e){return"song"===e.type.toLowerCase()})).map((function(e){return e.id})).includes(e.detail.id)){var t=n.state.searchResults.map((function(t){return"song"===t.type.toLowerCase()&&t.id==e.detail.id?Object(l.a)(Object(l.a)({},t),{},{isLiked:e.detail.like}):t}));n.setState({searchResults:t})}},n.onSearch=function(e){""!==e.target.value.trim()?(n.setState({searching:!0}),f()({method:"GET",url:"search/"+e.target.value}).then((function(e){n.setState({searchResults:e.data.data,shouldResultsAppear:!0,searching:!1})})).catch((function(e){404===e.response.status&&n.setState({searchResults:[],shouldResultsAppear:!0,searching:!1})}))):n.setState({shouldResultsAppear:!1})},n.resultsAppear=function(e){""!==e.target.value.trim()&&n.setState({shouldResultsAppear:!0})},n.searchContainer=s.a.createRef(),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("mousedown",(function(t){e.searchContainer&&e.searchContainer.current&&(e.searchContainer.current.contains(t.target)||e.setState({shouldResultsAppear:!1,mobShow:!1}))})),window.addEventListener("like",this.onLikeHandler),window.addEventListener("resize",(function(){e.setState({windowWidth:window.innerWidth})}))}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:x.a.header,children:[Object(k.jsxs)("div",{className:x.a.logoSec,children:[Object(k.jsx)("button",{className:x.a.menuButton,onClick:function(){return e.props.setShow(!e.props.show)},children:Object(k.jsx)("img",{src:Fe,className:x.a.bars})}),Object(k.jsx)(_.b,{className:x.a.logoContainer,to:"/",children:Object(k.jsx)("img",{src:He,className:x.a.logo})})]}),Object(k.jsx)("div",{className:x.a.middle,children:Object(k.jsxs)("div",{className:x.a.glSearch,ref:this.searchContainer,children:[Object(k.jsx)(E,{shouldResultsAppear:this.state.shouldResultsAppear,searching:this.searching,keyup:this.onSearch,focus:this.resultsAppear,onCancel:function(){return e.setState({shouldResultsAppear:!1,mobShow:!1})},show:this.state.mobShow}),this.state.windowWidth<800?Object(k.jsx)("div",{className:x.a.searchBtnContainer,children:Object(k.jsx)("button",{className:x.a.mobSearchButton,onClick:function(){return e.setState({mobShow:!0})},children:Object(k.jsx)("img",{src:We,className:x.a.searchIcon})})}):null,Object(k.jsx)(Ee,{shouldResultsAppear:this.state.shouldResultsAppear,searchResults:this.state.searchResults})]})}),Object(k.jsx)(Re,{})]})}}]),a}(n.Component),Ye=Object(c.b)((function(e){return{show:e.showMenu}}),(function(e){return{setShow:function(t){return e({type:"SHOW_MENU",show:t})}}}))(qe),Ve=a(36),Ge=a.n(Ve),Qe=a(37),ze=a.n(Qe),Xe=a.p+"static/media/upload.0ac8813d.svg";var Je=function(e){var t,a;return e.uploads?(t=Object(k.jsx)(_.b,{className:ze.a.AudioPlayerArtistName,to:"/uploads",children:"From Uploads"}),a=Object(k.jsx)("div",{className:"songImg",children:Object(k.jsx)("img",{src:Xe,className:"upIc"})})):(a=Object(k.jsx)("div",{className:ze.a.imgHolder,style:{backgroundImage:"url("+e.currentSong.imgUrl+")"}}),t=Object(k.jsx)(_.b,{to:"/artist/".concat(e.currentSong.artistId),children:Object(k.jsx)("span",{className:ze.a.AudioPlayerArtistName,children:e.currentSong.artistName})})),Object(k.jsx)(s.a.Fragment,{children:e.loading?Object(k.jsx)("div",{className:ze.a.songData+" "+ze.a.centerFlex,children:Object(k.jsx)(T,{shape:"buttonSpinner"})}):Object(k.jsxs)("div",{className:ze.a.songData+" "+ze.a.flexStart,children:[a,Object(k.jsxs)("div",{className:ze.a.flexColumn,children:[Object(k.jsx)("span",{className:ze.a.AudioPlayerSongName,children:e.currentSong.name}),t]})]})})},Ke=a(38),Ze=a.n(Ke),$e=a.p+"static/media/repeat.0110d208.svg",et=a.p+"static/media/repeated.40181de5.svg",tt=a.p+"static/media/shuffle.a8d7162c.svg",at=a.p+"static/media/shuffled.e68bdd35.svg",nt=a.p+"static/media/next.3c7709af.svg",st=a.p+"static/media/previous.815889b8.svg",rt=a.p+"static/media/play.98691263.svg",it=a.p+"static/media/pause.e8c91910.svg";var ot=function(e){return Object(k.jsxs)("div",{className:Ze.a.audioControls,children:[Object(k.jsx)(C,{shape:"repeat",click:e.onRepeat,children:e.repeat?Object(k.jsx)("img",{src:et,className:Ze.a.shuffleRepeatIcon}):Object(k.jsx)("img",{src:$e,className:Ze.a.shuffleRepeatIcon})}),Object(k.jsx)(C,{shape:"next-prev",click:e.previous,children:Object(k.jsx)("img",{src:st,className:Ze.a.nextPrevIcon})}),window.innerWidth>=800?Object(k.jsx)(C,{shape:"play",click:e.onPlay,spinner:"buttonSpinner",loading:e.loading,children:e.play?Object(k.jsx)("img",{src:it,className:Ze.a.playPauseIcon}):Object(k.jsx)("img",{src:rt,className:Ze.a.playPauseIcon})}):null,Object(k.jsx)(C,{shape:"next-prev",click:e.next,children:Object(k.jsx)("img",{src:nt,className:Ze.a.nextPrevIcon})}),Object(k.jsx)(C,{shape:"shuffle",click:e.onShuffle,children:e.shuffle?Object(k.jsx)("img",{src:at,className:Ze.a.shuffleRepeatIcon}):Object(k.jsx)("img",{src:tt,className:Ze.a.shuffleRepeatIcon})})]})},ct=a(47),lt=a.n(ct);var ut=function(e){return Object(k.jsxs)("div",{className:lt.a.progressBarContainer,children:[Object(k.jsx)("span",{className:lt.a.audioTime,children:e.currentTime?e.currentTime:"0.00"}),Object(k.jsx)("div",{className:lt.a.progressBar,ref:e.progressBarRef,onMouseDown:e.mouseDown,children:Object(k.jsx)("div",{className:lt.a.progress,style:{width:e.width},children:Object(k.jsx)("div",{className:lt.a.progressBall})})}),Object(k.jsx)("span",{className:lt.a.audioTime,children:e.remaining?e.remaining:"0.00"})]})},dt=a(45),mt=a.n(dt),pt=a.p+"static/media/playlist.f70d481c.svg",ht=a.p+"static/media/like.efcd484b.svg",gt=a.p+"static/media/liked.0c2d646d.svg",jt=a.p+"static/media/volume.27fc322f.svg",bt=a.p+"static/media/mute.44512667.svg",ft=a.p+"static/media/highVolume.6673a64a.svg";var _t=function(e){var t;return e.volume>.5?t=Object(k.jsx)("img",{className:mt.a.optionIcon,src:ft}):e.volume<.5&&e.volume>0?t=Object(k.jsx)("img",{className:mt.a.optionIcon,src:jt}):(e.mute||0==e.volume)&&(t=Object(k.jsx)("img",{className:mt.a.optionIcon,src:bt})),Object(k.jsx)("div",{className:mt.a.audioOptions,children:Object(k.jsxs)("div",{className:mt.a.options,children:[Object(k.jsx)(C,{shape:"audioOptions",click:e.onVolume,forwardedRef:e.volumeButtonRef,children:t}),e.authenticated()?Object(k.jsx)(C,{shape:"audioOptions",click:e.onLike,children:Object(k.jsx)("img",{className:mt.a.optionIcon,src:e.isLiked?gt:ht})}):null,Object(k.jsx)(C,{shape:"audioOptions",click:e.onQueue,forwardedRef:e.queueButtonRef,children:Object(k.jsx)("img",{className:mt.a.optionIcon,src:pt})})]})})},Ot=a(54),xt=a.n(Ot);var yt=function(e){return Object(k.jsx)("div",{className:xt.a.volumeBarContainer,ref:e.containerRef,children:Object(k.jsx)("div",{className:xt.a.insideVolumeBar,children:Object(k.jsx)("div",{className:xt.a.volumeBar,ref:e.barRef,onMouseDown:e.mouseDown,children:Object(k.jsx)("div",{className:xt.a.volumeBarProgress,style:{height:e.height},children:Object(k.jsx)("div",{className:xt.a.volumeBarBall})})})})})},vt=a(61),St=a.n(vt),Nt=a(29),wt=a.n(Nt),Pt=a.p+"static/media/options.91439f4c.svg",It=Object(c.b)((function(e){return{isPlaying:e.audioPlaying,currentSong:e.currentSong,currentIndex:e.currentIndex,currentPlaylist:e.currentPlaylist,playingFromUploads:e.playingFromUploads}}),(function(e){return{setTrack:function(t){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))((function(e){var t=e.currentSong.id===e.data.id,a=Object(n.useState)(!1),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(!1),l=Object(y.a)(c,2),u=l[0],d=l[1],m=Object(n.useState)(null),p=Object(y.a)(m,2),h=p[0],g=p[1],j=Object(n.useState)(null),b=Object(y.a)(j,2),f=b[0],O=b[1],x=Object(n.useRef)(null);Object(n.useEffect)((function(){e.parent&&e.parent.addEventListener("scroll",(function(){d(!1)}))}),[]);var v,S,N=function(){var e=Object(R.a)(U.a.mark((function e(t,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te()){e.next=3;break}return O("Please login or register, so you can like songs"),e.abrupt("return");case 3:return e.next=5,$(t,a);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=e.playingFromUploads?[{text:"Delete from uploads",todo:function(){return e.onDeleteUploaded(e.data.id)}}]:[{text:"Add to playlist",todo:function(){return o(!0)}}];return e.playingFromUploads?(v=Object(k.jsx)("div",{className:"songImg",children:Object(k.jsx)("img",{src:Xe,className:wt.a.uploadIcon})}),S=Object(k.jsx)(_.b,{className:wt.a.fromuploads,to:"/uploads",children:"From Uploads"})):(v=Object(k.jsx)("div",{className:wt.a.songImg,style:{backgroundImage:"url("+e.data.imgUrl+")"}}),S=Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(C,{shape:"queueOptions",click:function(t,a){return N(e.data.id,e.data.isLiked)},children:e.data.isLiked?Object(k.jsx)("img",{src:gt,className:wt.a.icon}):Object(k.jsx)("img",{src:ht,className:wt.a.icon})}),Object(k.jsx)(C,{shape:"queueOptions",click:function(){g(ie(x.current,w.length,!0)),d(!u)},forwardedRef:x,children:Object(k.jsx)("img",{src:Pt,className:wt.a.icon})})]})),Object(k.jsxs)(s.a.Fragment,{children:[null!==f?Object(k.jsx)(ye,{msg:f,destroy:function(){return O(null)}}):null,i?Object(k.jsx)(je,{open:i,destroy:function(){return o(!1)},children:Object(k.jsx)(ke,{songId:e.data.id,destroy:function(){return o(!1)}})}):null,u?Object(k.jsx)(be,{position:h,options:w,destroy:function(){return d(!1)}}):null,Object(k.jsxs)("div",{className:wt.a.song,onClick:function(t){"button"!==t.target.tagName.toLowerCase()&&"img"!==t.target.tagName.toLowerCase()&&"a"!==t.target.tagName.toLowerCase()&&e.setTrack({id:e.data.id,playlist:e.playlist,play:!0,uploads:e.playingFromUploads})},children:[Object(k.jsxs)("div",{className:wt.a.songData,children:[v,Object(k.jsx)("span",{className:wt.a.songName+" "+(t?wt.a.playing:""),title:e.data.name,children:e.data.name})]}),Object(k.jsx)(_.b,{to:"/artist/".concat(e.data.artistId),className:wt.a.artist,children:e.data.artistName}),Object(k.jsx)("div",{className:wt.a.options,children:S})]})]})})),kt=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,songs:[],currentPlaylist:[],currentSong:{},currentIndex:0,show:!1,flashMsg:null,windowSize:window.innerWidth},e.onResize=function(){e.setState({windowSize:window.innerWidth})},e.onDeleteUploaded=function(t){X({method:"DELETE",url:"users/".concat(localStorage.getItem("userId"),"/uploads/").concat(t)}).then((function(a){if(200===a.status){var n=e.state.songs.filter((function(e){return e.id!=t}));e.setState({flashMsg:"Done!",songs:n})}})).catch((function(e){return console.log(e.response)}))},e.populate=function(t){if(t.currentPlaylistSongs.length<1){if(!(t.currentPlaylist.length>0))return;if(t.currentPlaylist===e.state.currentPlaylist)return;var a=[],n=[];t.currentPlaylist.forEach((function(e){var n=X({method:"GET",url:t.playingFromUploads?"users/".concat(localStorage.getItem("userId"),"/uploads/").concat(e):"songs/".concat(e)});a.push(n)})),Promise.all(a).then((function(a){a.forEach((function(e){200===e.status&&n.push(e.data.data)})),e.setState({songs:n,loading:!1,currentPlaylist:t.currentPlaylist}),window.addEventListener("like",(function(t){if(e.state.currentPlaylist.includes(t.detail.id)){var a=e.state.songs.map((function(e){return e.id==t.detail.id?Object(l.a)(Object(l.a)({},e),{},{isLiked:t.detail.like}):e}));e.setState({songs:a})}}))}))}else t.currentPlaylistSongs!==e.state.songs&&e.setState({songs:t.currentPlaylistSongs,loading:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.populate(this.props),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){e.currentSong===this.state.currentSong&&e.currentIndex===this.state.currentIndex||(this.setState({currentSong:e.currentSong,currentIndex:e.currentIndex}),this.populate(e)),this.populate(e)}},{key:"render",value:function(){var e,t=this;return this.state.loading?e=Object(k.jsx)(T,{shape:"buttonSpinner"}):this.state.songs.length>0&&(e=this.state.songs.map((function(e){return Object(k.jsx)(It,{data:e,playlist:t.props.currentPlaylist,onDeleteUploaded:t.onDeleteUploaded,parent:t.props.queueRef.current},11*Math.random())}))),Object(k.jsxs)(s.a.Fragment,{children:[null!==this.state.flashMsg?Object(k.jsx)(ye,{msg:this.state.flashMsg,destroy:function(){return t.setState({flashMsg:null})}}):null,Object(k.jsxs)("div",{className:St.a.queueContainer+" "+(this.props.show?"":St.a.hide)+" "+(this.state.loading?St.a.flexCenter:St.a.flexStart),ref:this.props.queueRef,children:[this.state.windowSize<800?Object(k.jsx)(ot,{onPlay:this.props.onPlay,onShuffle:this.props.onShuffle,onRepeat:this.props.onRepeat,repeat:this.props.repeat,shuffle:this.props.shuffle,play:this.props.play,next:this.props.next,previous:this.props.previous}):null,e]})]})}}]),a}(n.Component),Tt=Object(c.b)((function(e){return{show:e.showQueue,isPlaying:e.audioPlaying,currentSong:e.currentSong,currentIndex:e.currentIndex,currentPlaylist:e.currentPlaylist,currentPlaylistSongs:e.currentPlaylistSongs,playingFromUploads:e.playingFromUploads}}),(function(e){return{showQueue:function(t){return e({type:"SHOW_QUEUE",show:t})}}}))(Ie(kt)),Ct=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={shuffle:!1,repeat:!1,progressBarMouseDown:!1,volumeBarMouseDown:!1,progressBarWidth:0,duration:0,currentTime:0,remaining:0,loading:!0,fetchingSong:!0,newTime:0,lastPlayed:[],volume:null!==localStorage.getItem("volume")?localStorage.getItem("volume"):window.innerWidth<=600?1:.8,mute:0===parseFloat(localStorage.getItem("volume")),started:!1,currentSong:{},isLiked:null,playing:null,currentIndex:0,queueShown:!1,playingFromUploads:null,mobOptions:!1,mobOptionsPosition:null,mobVolumeBar:!1,mobQueue:!1,windowSize:window.innerWidth},n.playRandomSong=function(){f()({method:"GET",url:"songs/random"}).then((function(e){200===e.status&&n.setNew({id:e.data.data.songId,playlist:e.data.data.playlist,play:!1,uploads:!1})})).catch((function(e){n.setState({loading:!1})}))},n.getDuration=function(){if(n.audio&&n.audio.current)return n.audio.current.duration},n.getCurrentTime=function(){if(n.audio&&n.audio.current)return n.audio.current.currentTime},n.getVolume=function(){return n.audio.current.volume},n.setTime=function(e){n.audio.current.currentTime=e},n.playHandler=function(){n.state.playing?n.pause():n.state.playing||n.play()},n.play=function(){n.setState({loading:!0});var e=n.audio.current.play();void 0!==e&&e.then((function(e){n.setState({loading:!1,started:!0,playing:!0}),n.props.setPlay(!0)})).catch((function(e){n.props.setPlay(!1)}))},n.pause=function(){n.audio.current.pause(),n.setState({loading:!1,playing:!1}),n.props.setPlay(!1)},n.showQueue=function(){var e;n.props.showQueue(!n.props.queue),e=0===n.state.currentIndex?10:60*n.state.currentIndex+10,K()(n.queue.current).animate({scrollTop:e},200)},n.shuffleHandler=function(){n.state.shuffle?n.setState({shuffle:!1}):n.state.shuffle||n.setState({shuffle:!0})},n.repeatHandler=function(){n.state.repeat?n.setState({repeat:!1}):n.state.repeat||n.setState({repeat:!0})},n.setNew=function(e){n.state.currentSong.id==e.id&&e.uploads===n.state.playingFromUploads||(n.setState({started:!1}),n.props.setTrack(e))},n.likeHandler=Object(R.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.playingFromUploads){e.next=2;break}return e.abrupt("return");case 2:if(te()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,$(n.state.currentSong.id,n.state.isLiked);case 6:e.sent;case 7:case"end":return e.stop()}}),e)}))),n.nextSong=function(){var e=n.props.currentIndex;if(n.state.repeat)n.setTime(0);else{if(n.state.shuffle){(e=Z(0,n.props.currentPlaylist.length-1))==n.props.currentIndex&&(e=Z(0,n.props.currentPlaylist.length-1));var t=n.state.lastPlayed.concat(e);n.setState({lastPlayed:t})}else n.props.currentIndex==n.props.currentPlaylist.length-1?e=0:e++;n.setNew({id:n.props.currentPlaylist[e],playlist:n.props.currentPlaylist,play:!0,uploads:n.state.playingFromUploads,shuffle:n.state.shuffle})}},n.previousSong=function(){var e=n.props.currentIndex;if(n.state.repeat||n.getCurrentTime()<=3&&!n.state.started)n.setTime(0);else if(0!=n.props.currentIndex||n.state.shuffle){if(n.state.shuffle)if(n.state.lastPlayed.length>1){var t=n.state.lastPlayed.slice(0,-1);n.setState({lastPlayed:t}),e=n.state.lastPlayed[n.state.lastPlayed.length-1]}else 1==n.state.lastPlayed.length&&(n.setState({lastPlayed:[]}),0==n.props.currentIndex?n.setTime(0):e--);else e--;n.setNew({id:n.props.currentPlaylist[e],playlist:n.props.currentPlaylist,play:!0,uploads:n.state.playingFromUploads,shuffle:n.state.shuffle})}else n.setTime(0)},n.showVolumeBar=function(){if(n.volumeButton&&n.volumeButton.current&&window.innerWidth>=800){var e=K()(document).scrollTop(),t=K()(n.volumeButton.current).offset().top-e-K()(n.volumeBarContainer.current).height(),a=K()(n.volumeButton.current).offset().left;K()(n.volumeBarContainer.current).css({top:t+"px",left:a-10+"px"}),n.setVolume(localStorage.getItem("volume"))}},n.onVolumeButtonClick=function(){n.state.mute||0==n.state.volume?n.setVolume(.2):n.setVolume(0)},n.onVolumeBarMouseDown=function(e){n.setState({volumeBarMouseDown:!0}),n.volumeChange(e)},n.setVolume=function(e){n.setState({volume:e,volumeBarHeight:e*K()(n.volumeBar.current).height()+"px",mute:0==e}),n.audio&&n.audio.current&&(n.audio.current.volume=e),localStorage.setItem("volume",e)},n.volumeChange=function(e){var t=K()(document).scrollTop(),a=K()(n.volumeBar.current).offset().top-t,s=K()(n.volumeBar.current).height(),r=a+s,i=e.clientY-a,o=Math.abs(i-s);o>=s?o=s:e.clientY>=r&&(o=0);var c=o/s;n.setVolume(c)},n.changeProgress=function(e){var t,a=K()(n.progressBar.current).width(),s=K()(n.progressBar.current).offset().left;(t=e.clientX-s)>=a?t=a:t<=0&&(t=0);var r=t/a*100,i=n.getDuration()*(r/100);n.setState({progressBarWidth:t+"px",newTime:i})},n.onProgressBarMouseDown=function(e){n.setState({progressBarMouseDown:!0}),n.changeProgress(e)},n.mobOptionsOnClick=function(){n.setState((function(e){return{mobOptionsPosition:ie(n.optionsBtn.current,3,!0),mobOptions:!e.mobOptions}}))},n.audio=s.a.createRef(),n.progressBar=s.a.createRef(),n.volumeBarContainer=s.a.createRef(),n.volumeBar=s.a.createRef(),n.volumeButton=s.a.createRef(),n.queue=s.a.createRef(),n.queueButton=s.a.createRef(),n.optionsBtn=s.a.createRef(),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.audio&&this.audio.current&&(te()?f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"),"/plays")}).then((function(t){200===t.status&&e.setNew({id:t.data.data.songs[0].song.id,playlist:t.data.data.playlist,play:!1,uploads:t.data.data.songs[0].fromUploads})})).catch((function(t){e.playRandomSong()})):this.playRandomSong(),this.audio.current.addEventListener("canplay",(function(){e.state.playing&&e.play(),e.setVolume(e.state.volume),e.setState({loading:!1,duration:e.formatTime(e.getDuration()),currentTime:e.formatTime(e.getCurrentTime()),remaining:e.formatTime(e.getDuration()-e.getCurrentTime())})})),this.audio.current.addEventListener("waiting",(function(){e.setState({loading:!0})})),this.audio.current.addEventListener("play",(function(){e.setState({loading:!1,started:!0,playing:!0}),e.props.setPlay(!0)})),this.audio.current.addEventListener("pause",(function(){e.setState({loading:!1,playing:!1}),e.props.setPlay(!1)})),this.audio.current.addEventListener("ended",(function(){var t=[f()({headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",url:"artists/plays",data:JSON.stringify({artistId:e.state.currentSong.artistId})}),f()({headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",url:"albums/plays",data:JSON.stringify({albumId:e.state.currentSong.albumId})})];Promise.all(t),e.state.repeat&&(e.setTime(0),e.play()),e.nextSong()})),this.audio.current.addEventListener("timeupdate",(function(){if(e.setState({remaining:e.formatTime(e.getDuration()-e.getCurrentTime()),currentTime:e.formatTime(e.getCurrentTime())}),e.state.progressBarMouseDown||e.setState({progressBarWidth:e.getCurrentTime()/e.getDuration()*100+"%"}),e.getDuration()-e.getCurrentTime()<7){var t=e.getDuration()-e.getCurrentTime(),a=e.getVolume()/7*t;e.audio.current.volume=a}}))),document.addEventListener("mousedown",(function(t){e.queue&&e.queue.current&&e.queueButton&&e.queueButton.current&&(e.queue.current.contains(t.target)||e.queueButton.current.contains(t.target)||e.props.showQueue(!1))})),document.addEventListener("mouseover",(function(t){e.volumeBarContainer&&e.volumeBarContainer.current&&e.volumeButton&&e.volumeButton.current&&window.innerWidth>=800&&(e.volumeBarContainer.current.contains(t.target)||e.volumeButton.current.contains(t.target)?(K()(e.volumeBarContainer.current).css({display:"block"}),e.showVolumeBar(localStorage.getItem("volume"))):K()(e.volumeBarContainer.current).css({display:"none"}))})),document.addEventListener("mousemove",(function(t){e.progressBar&&e.progressBar.current&&e.state.progressBarMouseDown&&(e.changeProgress(t),K()("body").css({"user-select":"none"})),e.volumeBarContainer&&e.volumeBarContainer.current&&(!e.volumeBarContainer.current.contains(t.target)&&e.state.volumeBarMouseDown&&e.setState({volumeBarMouseDown:!1}),e.state.volumeBarMouseDown&&(e.volumeChange(t),K()("body").css({"user-select":"none"})))})),document.addEventListener("mouseup",(function(t){e.state.progressBarMouseDown&&(e.setTime(e.state.newTime),e.setState({progressBarMouseDown:!1}),K()("body").css({"user-select":"auto"})),e.state.volumeBarMouseDown&&(e.setState({volumeBarMouseDown:!1}),K()("body").css({"user-select":"auto"}))})),window.addEventListener("like",(function(t){t.detail.id==e.state.currentSong.id&&e.setState({isLiked:t.detail.like})})),window.addEventListener("resize",(function(){e.setState({windowSize:window.innerWidth})}))}},{key:"componentWillReceiveProps",value:function(e){e.currentSong===this.state.currentSong&&e.currentIndex===this.state.currentIndex||(this.setState({currentSong:e.currentSong,currentIndex:e.currentIndex,isLiked:e.currentSong.isLiked}),this.audio&&this.audio.current&&(this.audio.current.src=e.currentSong.url)),e.shuffle!==this.state.shuffle&&this.setState({shuffle:e.shuffle}),e.play!==this.state.playing&&(this.setState({playing:e.play}),e.play?this.play():e.play||this.pause()),e.queue!==this.state.queueShown&&this.setState({queueShown:e.queue}),e.playingFromUploads!==this.state.playingFromUploads&&this.setState({playingFromUploads:e.playingFromUploads})}},{key:"componentWillUnmount",value:function(){this.pause()}},{key:"formatTime",value:function(e){var t=Math.round(e),a=Math.floor(t/60),n=t-60*a,s=n<10?"0":"";return"".concat(a,":").concat(s).concat(n)}},{key:"render",value:function(){var e=this;if(this.state.windowSize<800){var t=[{text:"Sound",todo:function(){return e.setState({mobVolumeBar:!0})}},{text:"Queue",todo:function(){return e.setState({mobQueue:!0})}}];return te()&&!this.state.playingFromUploads&&(t=[{text:"".concat(this.state.isLiked?"Dislike":"Like"),todo:this.likeHandler}].concat(Object(Q.a)(t))),Object(k.jsxs)("div",{className:Ge.a.mobAudioPlayer,children:[this.state.mobVolumeBar?Object(k.jsx)(je,{open:this.state.mobVolumeBar,destroy:function(){return e.setState({mobVolumeBar:!1})},children:Object(k.jsx)(yt,{mouseDown:this.onVolumeBarMouseDown,containerRef:this.volumeBarContainer,barRef:this.volumeBar,height:this.state.volumeBarHeight})}):null,this.state.mobQueue?Object(k.jsx)(je,{open:this.state.mobQueue,destroy:function(){return e.setState({mobQueue:!1})},children:Object(k.jsx)(Tt,{queueRef:this.queue,next:this.nextSong,previous:this.previousSong,onPlay:this.playHandler,onShuffle:this.shuffleHandler,onRepeat:this.repeatHandler,repeat:this.state.repeat,shuffle:this.state.shuffle,play:this.state.playing,show:!0})}):null,this.state.mobOptions?Object(k.jsx)(be,{position:this.state.mobOptionsPosition,options:t,destroy:function(){return e.setState({mobOptions:!1})}}):null,Object(k.jsx)("audio",{className:Ge.a.hidden,type:"audio/mp3",ref:this.audio}),Object(k.jsx)(ut,{duration:this.state.duration,currentTime:this.state.currentTime,remaining:this.state.remaining,mouseDown:this.onProgressBarMouseDown,progressBarRef:this.progressBar,width:this.state.progressBarWidth}),Object(k.jsxs)("div",{className:Ge.a.mobAudioPlayerData,children:[Object(k.jsx)(Je,{currentSong:this.state.currentSong,loading:this.props.fetchingSong,uploads:this.state.playingFromUploads}),Object(k.jsx)(C,{shape:"play",click:this.playHandler,spinner:"buttonSpinner",loading:this.state.loading,children:this.state.playing?Object(k.jsx)("img",{src:it,className:Ge.a.mobPlayIcon}):Object(k.jsx)("img",{src:rt,className:Ge.a.mobPlayIcon})}),Object(k.jsx)(C,{shape:"queueOptions",click:this.mobOptionsOnClick,forwardedRef:this.optionsBtn,children:Object(k.jsx)("img",{src:Pt,className:Ge.a.mobOptionsIcon})})]})]})}if(this.state.windowSize>=800)return Object(k.jsxs)("div",{className:Ge.a.audioContainer,children:[Object(k.jsx)(Tt,{queueRef:this.queue}),Object(k.jsx)("audio",{className:Ge.a.hidden,type:"audio/mp3",ref:this.audio}),Object(k.jsx)(Je,{currentSong:this.state.currentSong,loading:this.props.fetchingSong,uploads:this.state.playingFromUploads}),Object(k.jsxs)("div",{className:Ge.a.audioControls,children:[Object(k.jsx)(ot,{onPlay:this.playHandler,onShuffle:this.shuffleHandler,onRepeat:this.repeatHandler,repeat:this.state.repeat,shuffle:this.state.shuffle,play:this.state.playing,next:this.nextSong,previous:this.previousSong,loading:this.state.loading}),Object(k.jsx)(ut,{duration:this.state.duration,currentTime:this.state.currentTime,remaining:this.state.remaining,mouseDown:this.onProgressBarMouseDown,progressBarRef:this.progressBar,width:this.state.progressBarWidth})]}),Object(k.jsx)(_t,{onLike:this.likeHandler,onQueue:this.showQueue,onVolume:this.onVolumeButtonClick,volume:this.state.volume,mute:this.state.mute,isLiked:this.state.isLiked,queueButtonRef:this.queueButton,volumeButtonRef:this.volumeButton,authenticated:te}),Object(k.jsx)(yt,{mouseDown:this.onVolumeBarMouseDown,containerRef:this.volumeBarContainer,barRef:this.volumeBar,height:this.state.volumeBarHeight})]})}}]),a}(n.Component),Lt=Object(c.b)((function(e){return{play:e.audioPlaying,currentSong:e.currentSong,currentPlaylist:e.currentPlaylist,currentPlaylistSongs:e.currentPlaylistSongs,currentIndex:e.currentIndex,queue:e.showQueue,fetchingSong:e.fetchingSong,playingFromUploads:e.playingFromUploads,shuffle:e.shuffle}}),(function(e){return{setTrack:function(t){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})},showQueue:function(t){return e({type:"SHOW_QUEUE",show:t})},changeLike:function(t){return e({type:"CHANGE_LIKE",like:t})}}}))(Ie(Ct)),At=a(5),Et=a.n(At),Dt=a.p+"static/media/explore.2a0546a1.svg",Bt=a.p+"static/media/mic.4e418f4a.svg",Mt=a.p+"static/media/addplaylist.51a8256d.svg",Ut=a.p+"static/media/guest.6b7171fb.svg",Rt=a.p+"static/media/resume.31ab12dd.svg",Ft=a.p+"static/media/pen.747c84a0.svg",Ht=a.p+"static/media/profile.6adc4470.svg",Wt=Object(c.b)((function(e){return{show:e.showMenu}}),(function(e){return{setShow:function(t){return e({type:"SHOW_MENU",show:t})}}}))((function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(window.innerWidth<1250),c=Object(y.a)(o,2),l=c[0],u=c[1],d=Object(n.useRef)(null),m=function(){window.innerWidth<1250?(e.setShow(!1),u(!0)):(e.setShow(!0),u(!1))};Object(n.useEffect)((function(){return g(),window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]),Object(n.useEffect)((function(){d&&d.current&&(e.show?p():h())}),[e.show]);var p=function(){K()(d.current).animate({left:"0px"},200)},h=function(){K()(d.current).animate({left:"-240px"},200)},g=function(){var e=Object(R.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:t=e.sent,i(!!t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"user"===e.type.toLowerCase()&&r?Object(k.jsxs)(s.a.Fragment,{children:[l?Object(k.jsx)("div",{className:Et.a.modal,onClick:function(){return e.setShow(!1)},style:{display:e.show?"block":"none"}}):null,Object(k.jsxs)("div",{className:Et.a.menu,ref:d,children:[Object(k.jsxs)("div",{className:Et.a.header,children:[Object(k.jsx)("button",{className:Et.a.menuButton,onClick:function(){return e.setShow(!e.show)},children:Object(k.jsx)("img",{src:Fe,className:Et.a.bars})}),Object(k.jsx)(_.b,{className:Et.a.logoContainer,to:"/",children:Object(k.jsx)("img",{src:He,className:Et.a.logo})})]}),Object(k.jsxs)("a",{href:"http://3.140.102.246//heartbeats/assets/ahmed_sayed_resume.pdf",className:Et.a.menuItem,children:[Object(k.jsx)("img",{src:Rt,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"My Resume"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/profile",children:[Object(k.jsx)("img",{src:Ht,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Your Profile"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/profile/edit",children:[Object(k.jsx)("img",{src:Ft,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Edit Your Profile"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/passwords",children:[Object(k.jsx)("img",{src:Ft,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Change Your Password"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/likes",children:[Object(k.jsx)("img",{src:ht,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Likes"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/Uploads",children:[Object(k.jsx)("img",{src:Xe,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Uploads"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/playlists",children:[Object(k.jsx)("img",{src:pt,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Playlists"})]}),Object(k.jsxs)("div",{className:Et.a.footer,children:["Music From ",Object(k.jsx)("a",{className:Et.a.footerLink,href:"http://bensound.com",children:" Bensound.com"})]})]})]}):Object(k.jsxs)(s.a.Fragment,{children:[l?Object(k.jsx)("div",{className:Et.a.modal,onClick:function(){return e.setShow(!1)},style:{display:e.show?"block":"none"}}):null,Object(k.jsxs)("div",{className:Et.a.menu,ref:d,children:[Object(k.jsxs)("div",{className:Et.a.header,children:[Object(k.jsx)("button",{className:Et.a.menuButton,onClick:function(){return e.setShow(!e.show)},children:Object(k.jsx)("img",{src:Fe,className:Et.a.bars})}),Object(k.jsx)(_.b,{className:Et.a.logoContainer,to:"/",children:Object(k.jsx)("img",{src:He,className:Et.a.logo})})]}),r?null:Object(k.jsxs)(_.c,{className:Et.a.menuItem,to:{pathname:"/auth",state:{guest:!0,comingFrom:"/explore"}},children:[Object(k.jsx)("img",{src:Ut,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Login as guest"})]}),Object(k.jsxs)("a",{href:"http://3.140.102.246//heartbeats/assets/ahmed_sayed_resume.pdf",className:Et.a.menuItem,children:[Object(k.jsx)("img",{src:Rt,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"My Resume"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/explore",children:[Object(k.jsx)("img",{src:Dt,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Explore"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/artists",children:[Object(k.jsx)("img",{src:Bt,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Artists"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/playlists",children:[Object(k.jsx)("img",{src:pt,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Playlists"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/playlists",children:[Object(k.jsx)("img",{src:Mt,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Create playlist"})]}),Object(k.jsxs)(_.c,{className:Et.a.menuItem,activeStyle:{backgroundColor:"#555"},to:"/uploads",children:[Object(k.jsx)("img",{src:Xe,className:Et.a.menuIcon}),Object(k.jsx)("span",{className:Et.a.menuText,children:"Upload your songs"})]}),Object(k.jsxs)("div",{className:Et.a.footer,children:["Music From ",Object(k.jsx)("a",{className:Et.a.footerLink,href:"http://bensound.com",children:" Bensound.com"})]})]})]})})),qt=a(88),Yt=a.n(qt),Vt=a(55),Gt=a.n(Vt),Qt=a(20),zt=a.n(Qt),Xt=Object(c.b)((function(e){return{play:e.audioPlaying,currentSong:e.currentSong,playingFromUploads:e.playingFromUploads}}),(function(e){return{setPlay:function(t){return e({type:"SET_PLAYING",play:t})},setTrack:function(t){return e(ce(t))}}}))((function(e){var t,a=Object(n.useState)(window.innerWidth),s=Object(y.a)(a,2),r=s[0],i=s[1];Object(n.useEffect)((function(){window.addEventListener("resize",(function(){i(window.innerWidth)}))}),[]);var o=function(e){t=e.clientX},c=function(a){t===a.clientX&&(e.currentSong.id!=e.data.id||e.playingFromUploads?e.setTrack({id:e.data.id,playlist:e.playlist,play:!0,uploads:!1}):e.setPlay(!e.play))};return r>600?Object(k.jsx)("div",{className:zt.a.container,style:{width:e.width},children:Object(k.jsxs)("div",{className:zt.a.SliderSong,style:{backgroundImage:"url(".concat(e.data.imgUrl,")"),MozBoxShadow:"inset 0 -70px 90px 10px"+e.data.imgColor,WebkitBoxShadow:"inset 0 -70px 90px 10px"+e.data.imgColor,boxShadow:"inset 0 -70px 90px 10px"+e.data.imgColor},children:[Object(k.jsx)("div",{className:zt.a.SliderSongModal,onMouseDown:o,onMouseUp:c,children:Object(k.jsx)(C,{shape:"play",children:e.currentSong.id==e.data.id&&e.play?Object(k.jsx)("img",{src:it,className:zt.a.playIcon}):Object(k.jsx)("img",{src:rt,className:zt.a.playIcon})})}),Object(k.jsxs)("div",{className:zt.a.songData,children:[Object(k.jsx)("span",{className:zt.a.songName,children:e.data.name}),Object(k.jsx)("span",{className:zt.a.artistName,children:e.data.artistName})]})]})}):r<=600?Object(k.jsx)("div",{className:zt.a.container,style:{width:e.width},children:Object(k.jsxs)("div",{className:zt.a.mobContainer,children:[Object(k.jsx)("div",{className:zt.a.mobImg,style:{backgroundImage:"url(".concat(e.data.imgUrl,")")}}),Object(k.jsxs)("div",{className:zt.a.songData,children:[Object(k.jsxs)("div",{className:zt.a.mobName,onMouseDown:o,onMouseUp:c,onTouchStart:o,onTouchEnd:c,children:[Object(k.jsx)("span",{className:zt.a.songName,children:e.data.name}),e.currentSong.id==e.data.id&&e.play?Object(k.jsx)("img",{src:it,className:zt.a.playIcon}):Object(k.jsx)("img",{src:rt,className:zt.a.playIcon})]}),Object(k.jsx)(_.b,{to:"/artist/".concat(e.data.artistId),className:zt.a.artistName,children:e.data.artistName})]})]})}):void 0})),Jt=a(18),Kt=a.n(Jt);var Zt=Object(c.b)((function(e){return{play:e.audioPlaying,currentSong:e.currentSong}}),(function(e){return{setPlay:function(t){return e({type:"SET_PLAYING",play:t})},setTrack:function(t){return e(ce(t))}}}))((function(e){var t,a=Object(n.useState)(window.innerWidth),s=Object(y.a)(a,2),r=s[0],i=s[1];Object(n.useEffect)((function(){window.addEventListener("resize",(function(){i(window.innerWidth)}))}),[]);var o=function(e){t=e.clientX},c=function(a){r>600&&t!==a.clientX||(e.data.songIds.includes(e.currentSong.id)?e.setPlay(!e.play):e.setTrack({id:e.data.songIds[0],playlist:e.data.songIds,play:!0}))},l=Object(m.g)(),u=function(e,a){r>600&&t!==e.clientX||l.push(a)};return r>600?Object(k.jsx)("div",{className:Kt.a.container,style:{width:e.width},children:Object(k.jsxs)("div",{className:Kt.a.inside,children:[Object(k.jsxs)("div",{className:Kt.a.albumImg,children:[Object(k.jsx)("div",{className:Kt.a.imgHolder,style:{backgroundImage:"url("+e.data.imgUrl+")"}}),Object(k.jsx)("div",{className:Kt.a.modal,onMouseDown:o,onMouseUp:c,children:e.play&&e.data.songIds.includes(e.currentSong.id)?Object(k.jsx)("img",{src:it,className:Kt.a.play}):Object(k.jsx)("img",{src:rt,className:Kt.a.play})})]}),Object(k.jsxs)("div",{className:Kt.a.data,children:[Object(k.jsx)("span",{onMouseDown:o,onMouseUp:function(t,a){return u(t,"/album/".concat(e.data.id))},className:Kt.a.name+" "+(e.data.songIds.includes(e.currentSong.id)?Kt.a.playing:""),title:e.data.songIds.includes(e.currentSong.id)?"A Song From This Album Is Playing":"",children:e.data.name}),Object(k.jsx)("span",{onMouseDown:o,onMouseUp:function(t,a){return u(t,"/artist/".concat(e.data.artistId))},className:Kt.a.secondary,children:e.data.artistName}),Object(k.jsx)("span",{className:Kt.a.secondary,style:{userSelect:"none",cursor:"context-menu",textDecoration:"none"},children:"".concat(e.data.songIds.length," Songs")})]})]})}):r<=600?Object(k.jsxs)("div",{className:Kt.a.container,style:{width:e.width},children:[Object(k.jsxs)("div",{className:Kt.a.inside,children:[Object(k.jsx)("div",{className:Kt.a.albumImg,children:Object(k.jsx)("div",{className:Kt.a.imgHolder,style:{backgroundImage:"url("+e.data.imgUrl+")"}})}),Object(k.jsxs)("div",{className:Kt.a.data,children:[Object(k.jsx)("span",{onClick:function(t,a){return u(t,"/album/".concat(e.data.id))},className:Kt.a.name+" "+(e.data.songIds.includes(e.currentSong.id)?Kt.a.playing:""),title:e.data.songIds.includes(e.currentSong.id)?"A Song From This Album Is Playing":"",children:e.data.name}),Object(k.jsx)("span",{onClick:function(t,a){return u(t,"/artist/".concat(e.data.artistId))},className:Kt.a.secondary,children:e.data.artistName}),Object(k.jsx)("span",{className:Kt.a.secondary,style:{userSelect:"none",cursor:"context-menu",textDecoration:"none"},children:"".concat(e.data.songIds.length," Songs")})]})]}),Object(k.jsx)("button",{className:Kt.a.mobPlay,onClick:c,children:e.play&&e.data.songIds.includes(e.currentSong.id)?Object(k.jsx)("img",{src:it,className:Kt.a.play}):Object(k.jsx)("img",{src:rt,className:Kt.a.play})})]}):void 0})),$t=a(67),ea=a.n($t);var ta=function(e){var t,a=Object(m.g)(),s=Object(n.useState)(window.innerWidth),r=Object(y.a)(s,2),i=(r[0],r[1]);Object(n.useEffect)((function(){window.addEventListener("resize",(function(){i(window.innerWidth)}))}),[]);var o=function(e){t=e.clientX},c=function(e,n){t===e.clientX&&a.push(n)};return Object(k.jsxs)("div",{className:ea.a.artistContainer,style:{width:e.width},onMouseDown:o,onTouchStart:o,onMouseUp:function(t,a){return c(t,"/artist/".concat(e.data.id))},onTouchEnd:function(t,a){return c(t,"/artist/".concat(e.data.id))},children:[Object(k.jsx)("div",{className:ea.a.artistImg,style:{backgroundImage:"url("+e.data.imgUrl+")"}}),Object(k.jsx)("span",{className:ea.a.artistName,children:e.data.name})]})},aa=a.p+"static/media/rightArrow.7718d46b.svg",na=a.p+"static/media/leftArrow.2d5300e9.svg",sa=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={containerWidth:null,containerHeight:null,width:null,itemWidth:null,itemHeight:null,isSlider:!1,showMenu:null},n.calculate=function(){var e;switch(n.props.itemType.toLowerCase()){case"song":e=K()(n.container.current).width()>=1200?6:K()(n.container.current).width()>1e3&&K()(n.container.current).width()<1200?5:K()(n.container.current).width()<1e3&&K()(n.container.current).width()>750?4:K()(n.container.current).width()<750&&K()(n.container.current).width()>550?3:2;break;case"album":K()(n.container.current).width()>=1200?e=4:K()(n.container.current).width()>1e3&&K()(n.container.current).width()<1200?e=3:K()(n.container.current).width()<1e3&&K()(n.container.current).width()>650?e=2:K()(n.container.current).width()<650&&(e=1);break;case"artist":e=K()(n.container.current).width()>=1200?6:K()(n.container.current).width()>1e3&&K()(n.container.current).width()<1200?5:K()(n.container.current).width()<1e3&&K()(n.container.current).width()>750?4:window.innerWidth<750&&window.innerWidth>550?3:2}n.setState({containerWidth:K()(n.container.current).width(),width:K()(n.element.current).width(),itemWidth:K()(n.container.current).width()/e,itemHeight:K()(n.element.current).find(">:first-child").outerHeight(),isSlider:K()(n.element.current).children().length*K()(n.container.current).width()/e>K()(n.container.current).width()})},n.onMouseOver=function(e){window.innerWidth<800||n.container&&n.container.current&&n.nextButton&&n.nextButton.current&&n.backButton&&n.backButton.current&&(n.container.current.contains(e.target)||n.nextButton.current.contains(e.target)||n.backButton.current.contains(e.target)?[n.nextButton.current,n.backButton.current].forEach((function(e){n.state.isSlider&&K()(e).css({display:"flex"})})):[n.nextButton.current,n.backButton.current].forEach((function(e){n.state.isSlider&&K()(e).css({display:"none"})})))},n.moveLeft=function(){if(n.start){var e=parseInt(K()(n.element.current).css("left")),t=parseInt(K()(n.element.current).css("right")),a=n.state.containerWidth;t>-n.state.containerWidth&&t<0&&(a=-t),0===t?(n.start=!1,K()(n.element.current).animate({left:e-150+"px"},n.animationSpeed,(function(){K()(n.element.current).animate({left:e+"px"},50,(function(){K()(n.element.current).css({right:"auto"}),n.start=!0}))}))):(n.start=!1,K()(n.element.current).animate({left:e-a},n.animationSpeed,(function(){n.start=!0})))}},n.moveRight=function(){if(n.start){var e=parseInt(K()(n.element.current).css("left")),t=(parseInt(K()(n.element.current).css("right")),n.state.containerWidth);e>-n.state.containerWidth&&e<0&&(t=-e),0==e?(n.start=!1,K()(n.element.current).animate({left:"150px"},n.animationSpeed,(function(){K()(n.element.current).animate({left:"0px"},50,(function(){K()(n.element.current).css({left:"auto"}),n.start=!0}))}))):(n.start=!1,K()(n.element.current).animate({left:e+t},n.animationSpeed,(function(){n.start=!0})))}},n.mouseDownHandler=function(e){if(n.element&&n.element.current&&n.element.current.contains(e.target)){if(!n.start||!n.state.isSlider)return;n.mouseDown=!0,n.firstPosition=e.clientX,n.firstLeftPosition=parseInt(K()(n.element.current).css("left")),n.firstRightPosition=parseInt(K()(n.element.current).css("right")),n.dragSpeed=n.animationSpeed}},n.mouseMove=function(e){if(n.mouseDown){parseInt(K()(n.element.current).position().left),parseInt(K()(n.element.current).css("right"));var t=n.firstPosition-e.clientX;(n.firstLeftPosition>-n.state.containerWidth&&t<0||n.firstRightPosition>-n.state.containerWidth&&t>0)&&(t*=.2);var a=n.firstLeftPosition-t;K()(n.element.current).css({left:a+"px"}),K()("body").css({"user-select":"none"})}},n.mouseUp=function(){if(n.mouseDown){n.mouseDown=!1;var e,t=n.state.containerWidth,a=parseInt(K()(n.element.current).css("left")),s=a-n.firstLeftPosition,r=parseInt(K()(n.element.current).css("right"));a>0?(e="0px",n.animationSpeed=50):r>0&&(e=-n.state.width+n.state.containerWidth+"px",n.animationSpeed=50),s<-50&&r<0?(n.firstRightPosition>-n.state.containerWidth&&(t=-n.firstRightPosition),e=n.firstLeftPosition-t):s>50&&a<0?(n.firstLeftPosition>-n.state.containerWidth&&(t=-n.firstLeftPosition),e=n.firstLeftPosition+t):e=n.firstLeftPosition,n.start=!1,K()(n.element.current).animate({left:e},n.animationSpeed,(function(){n.start=!0})),n.animationSpeed=200,K()("body").css({"user-select":"auto"})}},n.container=s.a.createRef(),n.element=s.a.createRef(),n.nextButton=s.a.createRef(),n.backButton=s.a.createRef(),n.start=!0,n.animationSpeed=250,n.mouseDown=!1,n.mounted=!0,n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.mounted=!0,this.container&&this.container.current&&this.element&&this.element.current&&this.calculate(),document.addEventListener("mouseover",this.onMouseOver),document.addEventListener("mousedown",this.mouseDownHandler),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp),window.addEventListener("resize",this.calculate)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("mouseover",this.onMouseOver),document.removeEventListener("mousedown",this.mouseDownHandler),document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("resize",this.calculate)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.showMenu!==this.state.showMenu&&(this.setState({showMenu:e.showMenu}),this.calculate(),this.start=!1,K()(this.element.current).animate({left:"0px"},this.animationSpeed,(function(){t.start=!0})))}},{key:"render",value:function(){var e=this,t=this.props.items.map((function(t){return"song"===e.props.itemType.toLowerCase()?Object(k.jsx)(Xt,{data:t,width:e.state.itemWidth,playlist:e.props.playlist},t.id+11*Math.random()):"album"===e.props.itemType.toLowerCase()?Object(k.jsx)(Zt,{data:t,width:e.state.itemWidth},t.id+11*Math.random()):"artist"===e.props.itemType.toLowerCase()?Object(k.jsx)(ta,{data:t,width:e.state.itemWidth},11*Math.random()):void 0}));return Object(k.jsxs)("div",{className:Gt.a.mainRow,children:[Object(k.jsx)("span",{className:"sec_title",children:this.props.title}),window.innerWidth>=800?Object(k.jsx)(C,{shape:"sliderButton",otherClasses:"next",forwardedRef:this.nextButton,click:this.moveLeft,customStyle:{display:this.state.isSlider?"flex":"none",top:"album"===this.props.itemType?"65%":"60%"},children:Object(k.jsx)("img",{src:aa,className:Gt.a.sliderArrow})}):null,window.innerWidth>=800?Object(k.jsx)(C,{shape:"sliderButton",otherClasses:"back",forwardedRef:this.backButton,click:this.moveRight,customStyle:{display:this.state.isSlider?"flex":"none",top:"album"===this.props.itemType?"65%":"60%"},children:Object(k.jsx)("img",{src:na,className:Gt.a.sliderArrow})}):null,Object(k.jsx)("div",{className:Gt.a.sliderContainer,ref:this.container,style:{height:this.state.itemHeight+"px"},children:Object(k.jsx)("div",{className:Gt.a.slider,ref:this.element,style:{height:this.state.itemHeight+"px"},children:t})})]})}}]),a}(n.Component),ra=Object(c.b)((function(e){return{showMenu:e.showMenu}}),(function(e){return{setShowMenu:function(t){return e({type:"SHOW_MENU",show:t})}}}))(sa),ia=Ie(function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,playlists:[],newAlbums:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;Promise.all([X({method:"GET",url:"playlists"}),X({method:"GET",url:"albums"})]).then((function(t){200===t[0].status&&200===t[1].status&&e.setState({playlists:t[0].data.data,newAlbums:t[1].data.data,loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}},{key:"render",value:function(){var e,t=null;this.state.playlists.length>1&&(t=this.state.playlists.filter((function(e,t){return 0!==t})).map((function(e){return Object(k.jsx)(ra,{itemType:"song",title:e.name,items:e.songs,playlist:e.songIds},11*Math.random())})));return e=this.state.loading?Object(k.jsx)(T,{shape:"buttonSpinner"}):Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(ra,{itemType:"song",title:this.state.playlists[0].name,items:this.state.playlists[0].songs,playlist:this.state.playlists[0].songIds}),Object(k.jsx)(ra,{itemType:"album",title:"New Albums",items:this.state.newAlbums}),t]}),Object(k.jsx)("div",{className:"contentContainer "+(this.state.loading?Yt.a.loading:""),children:e})}}]),a}(n.Component)),oa=a(48),ca=a.n(oa),la=Ie(function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,artists:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;X({method:"GET",url:"artists"}).then((function(t){200===t.status&&e.setState({loading:!1,artists:t.data.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e;return e=this.state.loading?Object(k.jsx)(T,{shape:"buttonSpinner"}):this.state.artists.map((function(e){return Object(k.jsxs)(_.b,{replace:!0,className:ca.a.container+" link",to:"/artist/".concat(e.id),children:[Object(k.jsx)("div",{className:ca.a.imgHolder,style:{backgroundImage:"url("+e.imgUrl+")"}}),Object(k.jsx)("span",{className:ca.a.name,children:e.name})]},11*Math.random())})),Object(k.jsx)("div",{className:"contentContainer "+(this.state.loading?ca.a.loading:""),children:Object(k.jsx)("div",{className:ca.a.mainContainer+" "+(this.state.loading?ca.a.loading:""),children:e})})}}]),a}(n.Component)),ua=a(89),da=a.n(ua),ma=a(46),pa=a.n(ma),ha=a(34),ga=a.n(ha),ja=Object(c.b)((function(e){return{isPlaying:e.audioPlaying,currentSong:e.currentSong,currentIndex:e.currentIndex,currentPlaylist:e.currentPlaylist,playingFromUploads:e.playingFromUploads}}),(function(e){return{setTrack:function(t){return e(ce(t))},playNext:function(t){return e(de(t))},changeLike:function(t){return e({type:"CHANGE_LIKE",like:t})},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))((function(e){var t=e.currentSong.id===e.data.id&&!e.playingFromUploads,a=Object(n.useState)(!1),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(!1),u=Object(y.a)(c,2),d=u[0],m=u[1],p=Object(n.useState)(null),h=Object(y.a)(p,2),g=h[0],j=h[1],b=Object(n.useState)(null),f=Object(y.a)(b,2),O=f[0],x=f[1],v=Object(n.useRef)(null),S=function(){var e=Object(R.a)(U.a.mark((function e(t,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te()){e.next=3;break}return x("Please Login or register to like a song"),e.abrupt("return");case 3:return e.next=5,$(t,a);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N={ADD_TO_PLAYLIST:function(){return o(!0)},PLAY_NEXT:function(){e.playingFromUploads?x("Sorry, Can't play next while you're listening to your uploads playlist"):t?x("Already playing"):(e.playNext(e.data.id),x("Will Play Next"),m(!1))},DELETE_FROM_PLAYLIST:function(){return e.deleteFromPlaylist(e.data.id)}},w=null;return e.options&&(w=e.options.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{text:e.text,todo:N[e.todo]})}))),Object(k.jsxs)(s.a.Fragment,{children:[null!==O?Object(k.jsx)(ye,{msg:O,destroy:function(){return x(null)}}):null,i?Object(k.jsx)(je,{open:i,destroy:function(){return o(!1)},children:Object(k.jsx)(ke,{songId:e.data.id,destroy:function(){return o(!1)}})}):null,d&&e.options?Object(k.jsx)(be,{position:g,options:w,destroy:function(){return m(!1)}}):null,Object(k.jsxs)("div",{className:ga.a.song,onClick:function(t){"button"!==t.target.tagName.toLowerCase()&&"img"!==t.target.tagName.toLowerCase()&&"a"!==t.target.tagName.toLowerCase()&&e.setTrack({id:e.data.id,playlist:e.playlist,play:!0,uploads:!1})},children:[Object(k.jsxs)("div",{className:ga.a.songData,children:[Object(k.jsx)("div",{className:ga.a.songImg,style:{backgroundImage:"url("+e.data.imgUrl+")"}}),Object(k.jsx)("span",{className:ga.a.songName+" "+(t?ga.a.playing:""),children:e.data.name})]}),Object(k.jsx)(_.b,{to:"/artist/".concat(e.data.artistId),className:ga.a.artist,children:e.data.artistName}),Object(k.jsxs)("div",{className:ga.a.options,children:[Object(k.jsx)(C,{shape:"queueOptions",click:function(t,a){return S(e.data.id,e.data.isLiked)},children:e.data.isLiked?Object(k.jsx)("img",{src:gt,className:ga.a.icon}):Object(k.jsx)("img",{src:ht,className:ga.a.icon})}),Object(k.jsx)(C,{shape:"queueOptions",click:function(){e.options&&(j(ie(v.current,e.options.length,!0)),m(!d))},forwardedRef:v,children:Object(k.jsx)("img",{src:Pt,className:ga.a.icon})})]})]})]})}));var ba=function(e){var t=e.title?Object(k.jsx)("div",{className:pa.a.header,children:Object(k.jsx)("span",{className:"sec_title",children:e.title})}):null,a=null;if(e.songsArray){var n=e.songsArray.map((function(e){return e.id}));a=e.songsArray.map((function(t){return Object(k.jsx)(ja,{data:t,playlist:n,deleteFromPlaylist:e.deleteFromPlaylist?e.deleteFromPlaylist:null,options:e.options},11*Math.random())}))}var r=Array.apply(null,{length:5}).map((function(e,t){return Object(k.jsx)(s.a.Fragment,{children:Object(k.jsxs)("div",{className:pa.a.loadingTemp,children:[Object(k.jsxs)("div",{className:pa.a.loadingData,children:[Object(k.jsx)("div",{className:pa.a.loadingImg}),Object(k.jsx)("div",{className:pa.a.loadingName})]}),Object(k.jsx)("div",{className:pa.a.loadingArtist})]})},t)}));return Object(k.jsxs)("div",{className:pa.a.playlist,children:[t,e.loading?r:a]})},fa=a(40),_a=a.n(fa),Oa=a.p+"static/media/checked.1d687f88.svg",xa=Object(c.b)((function(e){return{playing:e.audioPlaying,currentSong:e.currentSong,currentIndex:e.currentIndex,currentPlaylist:e.currentPlaylist,playingFromUploads:e.playingFromUploads}}),(function(e){return{setTrack:function(t){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))(Ie((function(e){var t=Object(n.useState)(null),a=Object(y.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(null),c=Object(y.a)(o,2),l=c[0],u=c[1];Object(n.useEffect)((function(){f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"),"/artists")}).then((function(t){t.data.data.map((function(e){return e.id})).includes(e.artistData.id)?u(!0):u(!1)})).catch((function(e){return console.log(e)})),m()}),[]);var d=function(){e.songIds.includes(e.currentSong.id)?e.setPlay(!e.playing):e.setTrack({id:e.songIds[0],playlist:e.songIds,play:!0,uploads:!1})},m=function(){var e=Object(R.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:_a.a.header,children:[Object(k.jsx)("div",{className:_a.a.img,style:{backgroundImage:"url("+e.artistData.imgUrl+")"}}),Object(k.jsx)("div",{className:_a.a.data,children:Object(k.jsxs)("div",{className:_a.a.basicData,children:[Object(k.jsxs)("span",{className:"pageMainTitle",children:[e.artistData.name,e.songIds.includes(e.currentSong.id)&&e.playing?Object(k.jsx)("img",{src:it,className:_a.a.play,onClick:d}):Object(k.jsx)("img",{src:rt,className:_a.a.play,onClick:d})]}),Object(k.jsx)("span",{className:"details",children:"".concat(e.songIds.length," Songs | ").concat(e.albumsLength," Albums | ").concat(e.artistData.plays," Plays")}),r?Object(k.jsx)("button",{className:_a.a.followBtn,onClick:function(){l?l&&X({method:"DELETE",url:"users/".concat(localStorage.getItem("userId"),"/artists/").concat(e.artistData.id)}).then((function(e){200===e.status&&u(!1)})).catch((function(e){return console.log(e.response)})):X({headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",url:"users/".concat(localStorage.getItem("userId"),"/artists"),data:JSON.stringify({artistId:e.artistData.id})}).then((function(e){201===e.status&&u(!0)})).catch((function(e){return console.log(e)}))},children:l?Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("img",{src:Oa,className:_a.a.checked}),Object(k.jsx)("span",{children:"Following"})]}):"Follow"}):null]})})]})}))),ya=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,artistData:{},songsArray:[],albums:[],songIds:[],id:null},e.onLikeHandler=function(t){if(e.state.songsArray.map((function(e){return e.id})).includes(t.detail.id)){var a=e.state.songsArray.map((function(e){return e.id==t.detail.id?Object(l.a)(Object(l.a)({},e),{},{isLiked:t.detail.like}):e}));e.setState({songsArray:a})}},e.init=function(t){e.setState({loading:!0,id:t});var a=[X({method:"GET",url:"artists/"+t}),X({method:"GET",url:"artists/"+t+"/songs"}),X({method:"GET",url:"artists/"+t+"/albums"})];Promise.all(a).then((function(t){if(200===t[0].status&&200===t[1].status&&200===t[2].status){var a=t[1].data.data.map((function(e){return e.id}));e.setState({artistData:t[0].data.data,songsArray:t[1].data.data,albums:t[2].data.data,songIds:a,loading:!1})}})).catch((function(e){return console.log(e)}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.init(this.props.match.params.id),window.addEventListener("like",this.onLikeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("like",this.onLikeHandler)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.id!==this.state.id&&this.init(e.match.params.id)}},{key:"render",value:function(){var e;return e=this.state.loading?Object(k.jsx)(T,{shape:"buttonSpinner"}):Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(xa,{artistData:this.state.artistData,songIds:this.state.songIds,albumsLength:this.state.albums.length}),Object(k.jsx)(ra,{itemType:"album",title:"Albums",items:this.state.albums}),Object(k.jsx)(ba,{title:"Popular Songs",songsArray:this.state.songsArray,options:[{text:"Add to playlist",todo:"ADD_TO_PLAYLIST"},{text:"Play next",todo:"PLAY_NEXT"}]})]}),Object(k.jsx)("div",{className:"contentContainer "+(this.state.loading?da.a.loading:""),children:e})}}]),a}(n.Component),va=Object(c.b)((function(e){return{play:e.audioPlaying,currentSong:e.currentSong}}),(function(e){return{setTrack:function(t){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))(Ie(ya)),Sa=a(90),Na=a.n(Sa),wa=a(32),Pa=a.n(wa),Ia=a.p+"static/media/more.f32efd40.svg",ka=a.p+"static/media/albumic.fb4303f0.svg",Ta=Object(c.b)((function(e){return{playing:e.audioPlaying,currentSong:e.currentSong,currentIndex:e.currentIndex,currentPlaylist:e.currentPlaylist,playingFromUploads:e.playingFromUploads}}),(function(e){return{setTrack:function(t){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))((function(e){var t=function(){e.albumData.songIds.includes(e.currentSong.id)?e.setPlay(!e.playing):e.setTrack({id:e.albumData.songIds[0],playlist:e.albumData.songIds,play:!0})};return Object(k.jsxs)("div",{className:Pa.a.header,children:[Object(k.jsxs)("div",{className:Pa.a.main,children:[Object(k.jsx)("div",{className:Pa.a.img,style:{backgroundImage:"url(".concat(e.albumData.imgUrl,")")}}),Object(k.jsx)("div",{className:Pa.a.data,children:Object(k.jsxs)("div",{className:Pa.a.basicData,children:[Object(k.jsxs)("span",{className:"pageMainTitle",children:[e.albumData.name,e.albumData.songIds.includes(e.currentSong.id)&&e.playing?Object(k.jsx)("img",{src:it,className:Pa.a.play,onClick:t}):Object(k.jsx)("img",{src:rt,className:Pa.a.play,onClick:t})]}),Object(k.jsxs)("span",{className:"flexCenter",style:{padding:"3px 5px"},children:[Object(k.jsx)("img",{src:ka,className:Pa.a.playlistIcon}),Object(k.jsx)("span",{className:"details",children:"Album"})]}),Object(k.jsxs)("span",{className:"details",children:["By ",Object(k.jsx)(_.b,{className:Pa.a.artistLink,to:"/artists/".concat(e.albumData.artistId),children:e.albumData.artistName})]}),Object(k.jsx)("span",{className:"details",children:"".concat(e.albumData.songIds.length," Songs | ").concat(e.albumData.plays," Plays")}),Object(k.jsx)("span",{className:"details",children:"year: ".concat(e.albumData.year)})]})})]}),Object(k.jsx)("div",{className:Pa.a.options,children:Object(k.jsx)("button",{className:Pa.a.shuffleBtn,onClick:function(){e.setTrack({id:e.albumData.songIds[Math.floor(Math.random()*e.albumData.songIds.length)],playlist:e.albumData.songIds,play:!0,shuffle:!0})},children:"Shuffle"})})]})})),Ca=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,albumData:{},songs:[],otherAlbums:[],id:null},e.onLikeHandler=function(t){if(e.state.songs.map((function(e){return e.id})).includes(t.detail.id)){var a=e.state.songs.map((function(e){return e.id==t.detail.id?Object(l.a)(Object(l.a)({},e),{},{isLiked:t.detail.like}):e}));e.setState({songs:a})}},e.init=function(t){e.setState({loading:!0,id:t});var a=[X({method:"GET",url:"albums/"+t}),X({method:"GET",url:"albums/"+t+"/songs"})];Promise.all(a).then((function(t){200===t[0].status&&200===t[1].status&&(e.setState({albumData:t[0].data.data,songs:t[1].data.data}),X({method:"GET",url:"artists/"+e.state.albumData.artistId+"/albums"}).then((function(t){if(200===t.status){var a=t.data.data.filter((function(t){return t.id!=e.state.id}));e.setState({otherAlbums:a,loading:!1})}})).catch((function(e){return console.log(e)})))})).catch((function(e){return console.log(e)}))},e.play=function(){e.state.albumData.songIds.includes(e.props.currentSong.id)?e.props.setPlay(!e.props.play):e.props.setTrack(e.state.albumData.songIds[0],e.state.albumData.songIds,!0)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.init(this.props.match.params.id),window.addEventListener("like",this.onLikeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("like",this.onLikeHandler)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.id!==this.state.id&&this.init(e.match.params.id)}},{key:"render",value:function(){var e;return e=this.state.loading?Object(k.jsx)(T,{shape:"buttonSpinner"}):Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(Ta,{albumData:this.state.albumData}),Object(k.jsx)(ba,{songsArray:this.state.songs,options:[{text:"Add to playlist",todo:"ADD_TO_PLAYLIST"},{text:"Play next",todo:"PLAY_NEXT"}]}),Object(k.jsx)(ra,{itemType:"album",title:"Other Albums By ".concat(this.state.albumData.artistName),items:this.state.otherAlbums})]}),Object(k.jsx)("div",{className:"contentContainer "+(this.state.loading?Na.a.loading:""),children:e})}}]),a}(n.Component),La=Object(c.b)((function(e){return{play:e.audioPlaying,currentSong:e.currentSong}}),(function(e){return{setTrack:function(t,a,n){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))(Ie(Ca)),Aa=a(68),Ea=a.n(Aa),Da=a(22),Ba=a.n(Da),Ma=a.p+"static/media/playlistDetails.3abf7568.svg",Ua=a(49),Ra=a.n(Ua);var Fa=function(e){return Object(k.jsxs)("div",{className:Ra.a.confirmation,children:[Object(k.jsx)("div",{className:Ra.a.msgContainer,children:Object(k.jsx)("span",{className:Ra.a.msg,children:e.msg})}),Object(k.jsxs)("div",{className:Ra.a.options,children:[Object(k.jsx)("button",{className:Ra.a.confirm,onClick:function(){e.confirm(),e.destroy()},children:"Confirm"}),Object(k.jsx)("button",{className:Ra.a.cancel,onClick:e.destroy,children:"Cancel"})]})]})},Ha=Object(c.b)((function(e){return{playing:e.audioPlaying,currentSong:e.currentSong,currentIndex:e.currentIndex,currentPlaylist:e.currentPlaylist,playingFromUploads:e.playingFromUploads}}),(function(e){return{setTrack:function(t){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))((function(e){var t=Object(m.g)(),a=Object(n.useState)(!1),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(null),l=Object(y.a)(c,2),u=l[0],d=l[1],p=Object(n.useState)(null),h=Object(y.a)(p,2),g=h[0],j=h[1],b=Object(n.useRef)(null),f=function(){null!==e.playlistData.songIds&&(e.playlistData.songIds.includes(e.currentSong.id)?e.setPlay(!e.playing):e.setTrack({id:e.playlistData.songIds[0],playlist:e.playlistData.songIds,play:!0}))},_=function(){var a=Object(R.a)(U.a.mark((function a(){return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,oe(e.playlistData.id);case 2:a.sent&&t.push({pathname:"/playlists",state:{comingFromDeleted:!0}});case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),O=[{text:"Delete",todo:function(){return j("Are You Sure You Want To Delete This Playlist ?")}}];return Object(k.jsxs)(s.a.Fragment,{children:[null!==g?Object(k.jsx)(je,{open:!0,destroy:function(){return j(null)},children:Object(k.jsx)(Fa,{msg:g,confirm:_,destroy:function(){return j(null)}})}):null,i?Object(k.jsx)(be,{position:u,options:O,destroy:function(){return o(!1)}}):null,Object(k.jsxs)("div",{className:Ba.a.header,children:[Object(k.jsxs)("div",{className:Ba.a.main,children:[e.noSongs?Object(k.jsx)("div",{className:Ba.a.placeholder,children:Object(k.jsx)("img",{src:pt,style:{width:"20px",height:"20px"}})}):Object(k.jsx)("div",{className:Ba.a.img,style:{backgroundImage:"url(".concat(e.img,")")}}),Object(k.jsx)("div",{className:Ba.a.data,children:Object(k.jsxs)("div",{className:Ba.a.basicData,children:[Object(k.jsxs)("span",{className:"pageMainTitle",children:[e.playlistData.name,null!==e.playlistData.songIds&&e.playlistData.songIds.includes(e.currentSong.id)&&e.playing?Object(k.jsx)("img",{src:it,className:Ba.a.play,onClick:f}):Object(k.jsx)("img",{src:rt,className:Ba.a.play,onClick:f})]}),Object(k.jsxs)("span",{className:"flexCenter",style:{padding:"3px 5px"},children:[Object(k.jsx)("img",{src:Ma,className:Ba.a.playlistIcon}),Object(k.jsx)("span",{className:"details",children:"Playlist"})]}),Object(k.jsx)("span",{className:"details",children:"".concat(null!==e.playlistData.songIds&&e.playlistData.songIds.length>0?e.playlistData.songIds.length:"No"," Songs")}),Object(k.jsx)("span",{className:"details",children:"Created at ".concat(e.playlistData.date)})]})})]}),Object(k.jsxs)("div",{className:Ba.a.options,children:[Object(k.jsx)("button",{className:"".concat(Ba.a.shuffleBtn," ").concat(e.noSongs?Ba.a.cantShuffle:""),onClick:function(){null!==e.playlistData.songIds&&e.setTrack({id:e.playlistData.songIds[Math.floor(Math.random()*e.playlistData.songIds.length)],playlist:e.playlistData.songIds,play:!0,shuffle:!0})},children:"Shuffle"}),Object(k.jsx)("button",{className:Ba.a.optionsBtn,children:Object(k.jsx)("img",{src:Ia,className:Ba.a.optionsIcon,ref:b,onClick:function(){d(ie(b.current,O.length,!0)),o(!i)}})})]})]})]})})),Wa=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,playlistData:{},songs:[],artists:[],img:null,userData:null,id:null,noSongs:null,flashMsg:null},e.onNewSong=function(t){t.detail.playlistId===e.state.playlistData.id&&X({method:"GET",url:"songs/".concat(t.detail.songId)}).then((function(t){var a=[t.data.data].concat(Object(Q.a)(e.state.songs));e.setState({songs:a})})).catch((function(e){return console.log(e)}))},e.onLikeHandler=function(t){if(e.state.songs.map((function(e){return e.id})).includes(t.detail.id)){var a=e.state.songs.map((function(e){return e.id==t.detail.id?Object(l.a)(Object(l.a)({},e),{},{isLiked:t.detail.like}):e}));e.setState({songs:a})}},e.init=function(t){e.setState({loading:!0,id:t});var a=[X({method:"GET",url:"playlists/"+t}),X({method:"GET",url:"playlists/"+t+"/songs"})];Promise.all(a).then((function(t){var a,n,s,r,i;(404===t[0].status&&e.props.history.push("/notFound"),200===t[0].status&&200===t[1].status&&(a=t[0].data.data,null===t[1].data.data.songs?(s=!0,n=[],i=null):(s=!1,n=t[1].data.data.songs,r=t[1].data.data.songs[0].imgUrl)),s)||(i=Object(Q.a)(new Set(t[1].data.data.songs.map((function(e){return JSON.stringify({id:e.artistId,imgUrl:e.artistImg,name:e.artistName})})))).map((function(e){return JSON.parse(e)})));e.setState({playlistData:a,songs:n,artists:i,img:r,noSongs:s,loading:!1})})).catch((function(t){404===t.response.status?e.props.history.push("/notFound"):401===t.response.status&&e.props.history.push("/")}))},e.deleteSong=function(t){var a=e.state.songs.map((function(e){return e.id})).filter((function(e){return e!=t})),n=JSON.stringify({songIds:a});X({headers:{Accept:"application/json","Content-Type":"application/json"},method:"PATCH",url:"playlists/".concat(e.state.playlistData.id),data:n}).then((function(n){if(200===n.status){e.setState({flashMsg:"A Song is deleted from the playlist!"});var s=e.state.songs.filter((function(e){return e.id!=t}));e.setState({songs:s,playlistData:Object(l.a)(Object(l.a)({},e.state.playlistData),{},{songIds:a})})}})).catch((function(e){return console.log(e.response)}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.init(this.props.match.params.id),window.addEventListener("like",this.onLikeHandler),window.addEventListener("addToPlaylist",this.onNewSong)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("like",this.onLikeHandler),window.removeEventListener("addToPlaylist",this.onNewSong)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.id!==this.state.id&&this.init(e.match.params.id)}},{key:"render",value:function(){var e,t=this;if(this.state.loading)e=Object(k.jsx)(T,{shape:"buttonSpinner"});else if(!this.state.loading){var a;a=this.state.noSongs?Object(k.jsx)("span",{className:Ea.a.noSongs,children:"This Playlist Has No Songs"}):Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(ba,{songsArray:this.state.songs,deleteFromPlaylist:this.deleteSong,options:[{text:"Add to playlist",todo:"ADD_TO_PLAYLIST"},{text:"Play next",todo:"PLAY_NEXT"},{text:"Delete From Playlist",todo:"DELETE_FROM_PLAYLIST"}]}),Object(k.jsx)(ra,{itemLength:"4",itemType:"artist",title:"Artists In This Playlist",items:this.state.artists})]}),e=Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(Ha,{playlistData:this.state.playlistData,noSongs:this.state.noSongs,img:this.state.img}),Object(k.jsx)("div",{className:Ea.a.playlistContent,children:a})]})}return Object(k.jsxs)(s.a.Fragment,{children:[null!==this.state.flashMsg?Object(k.jsx)(ye,{msg:this.state.flashMsg,destroy:function(){return t.setState({flashMsg:null})}}):null,Object(k.jsx)("div",{className:"contentContainer "+(this.state.loading?Ea.a.loading:""),children:e})]})}}]),a}(n.Component),qa=Object(c.b)((function(e){return{play:e.audioPlaying,currentSong:e.currentSong}}),(function(e){return{setTrack:function(t,a,n){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))(Ie(Wa)),Ya=Object(c.b)((function(e){return{withMenu:e.showMenu}}),(function(e){return{setShowMenu:function(t){return e({type:"SHOW_MENU",show:t})}}}))((function(e){return Object(n.useEffect)((function(){window.innerWidth<1250&&e.setShowMenu(!1)}),[e.location.pathname]),Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(Wt,{type:"menu"}),Object(k.jsxs)("div",{className:"mainContentContainer",style:{paddingLeft:e.withMenu&&window.innerWidth>1250?"240px":window.innerWidth<=600?"0px":"20px"},children:[Object(k.jsx)(m.b,{path:"/",exact:!0,render:function(){return Object(k.jsx)(m.a,{to:"/explore"})}}),Object(k.jsx)(m.b,{path:"/explore",exact:!0,component:ia}),Object(k.jsx)(m.b,{path:"/artists",exact:!0,component:la}),Object(k.jsx)(m.b,{path:"/artist/:id",exact:!0,component:va}),Object(k.jsx)(m.b,{path:"/album/:id",exact:!0,component:La}),Object(k.jsx)(m.b,{path:"/playlist/:id",exact:!0,component:qa})]})]})})),Va=a(50),Ga=a.n(Va),Qa=function(e){var t,a=Object(n.useState)(null),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(!0),l=Object(y.a)(c,2),u=l[0],d=l[1],m=function(){f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"))}).then((function(e){o(e.data.data),d(!1)})).catch((function(e){d(!1)}))};return Object(n.useEffect)((function(){return m(),window.addEventListener("userShouldUpdate",m),function(){window.removeEventListener("userShouldUpdate",m)}}),[]),t=u?Object(k.jsx)(T,{shape:"buttonSpinner"}):Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("div",{className:Ga.a.img,style:{backgroundImage:"url("+i.imgUrl}}),Object(k.jsxs)("div",{className:Ga.a.data,children:[Object(k.jsx)("span",{className:Ga.a.userName,children:"".concat(i.firstName," ").concat(i.lastName)}),Object(k.jsx)("span",{className:Ga.a.sec,children:"Member since ".concat(i.joinDate)})]})]}),Object(k.jsx)("div",{className:Ga.a.header+" "+(u?Ga.a.loading:""),children:t})},za=function(e){var t=Object(n.useState)(!0),a=Object(y.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(y.a)(i,2),c=o[0],l=o[1],u=Object(m.g)();Object(n.useEffect)((function(){p()}),[]);var d,p=function(){var e=Object(R.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:e.sent?(l(!0),r(!1)):(l(!1),r(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s?d=null:!s&&c?d=e.children:(u.push("/"),d=null),d},Xa=function(e){var t,a=Object(n.useState)(null),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(null),u=Object(y.a)(c,2),d=u[0],m=u[1],p=Object(n.useState)(!0),h=Object(y.a)(p,2),g=h[0],j=h[1],b=Object(n.useState)(null),_=Object(y.a)(b,2),O=_[0],x=_[1];Object(n.useEffect)((function(){e.location.state&&("/profile/edit"===e.location.state.comingFrom?x("Your data has changed"):"/passwords"===e.location.state.comingFrom&&x("Your password is successfully reset"));var a=[f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"),"/plays")}),f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"),"/artists")})];return Promise.all(a).then((function(e){if(console.log(e),200===e[0].status&&200===e[1].status||204===e[1].status){var a=e[0].data.data.songs.filter((function(e){return!e.fromUploads}));o(a.map((function(e){return e.song}))),t=e[0].data.data.songs,204===e[1].status&&m(null),200===e[1].status&&m(e[1].data.data),j(!1),window.addEventListener("like",S)}})).catch((function(e){console.log(e)})),function(){window.removeEventListener("like",S)}}),[]);var v,S=function(e){var a=t.filter((function(e){return!e.fromUploads}));if(a.map((function(e){return e.song.id})).includes(e.detail.id)){var n=a.map((function(t){return t.song.id==e.detail.id?Object(l.a)(Object(l.a)({},t),{},{song:Object(l.a)(Object(l.a)({},t.song),{},{isLiked:e.detail.like})}):t}));o(n.map((function(e){return e.song}))),t=n}};return v=g?Object(k.jsx)(T,{shape:"buttonSpinner"}):Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(ba,{title:"Recently Played",songsArray:i,options:[{text:"Add to playlist",todo:"ADD_TO_PLAYLIST"},{text:"Play next",todo:"PLAY_NEXT"}]}),null!==d?Object(k.jsx)(ra,{itemLength:"4",itemType:"artist",title:"Artists You Followed",items:d}):null]}),Object(k.jsxs)(s.a.Fragment,{children:[null!==O?Object(k.jsx)(ye,{msg:O,destroy:function(){return x(null)}}):null,Object(k.jsx)("div",{className:g?"flexCenter":"",style:{minHeight:"200px"},children:v})]})},Ja=a(9),Ka=a.n(Ja),Za=Ie((function(e){var t=Object(m.g)(),a={required:!0,minLength:2,maxLength:25},r={required:!0,minLength:2,maxLength:25},i={required:!0},o=Object(n.useState)({}),c=Object(y.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)({}),p=Object(y.a)(d,2),h=p[0],g=p[1],j=Object(n.useState)({}),b=Object(y.a)(j,2),f=b[0],_=b[1],O=Object(n.useState)(!0),x=Object(y.a)(O,2),v=x[0],S=x[1],N=Object(n.useState)(!1),w=Object(y.a)(N,2),P=w[0],I=w[1];Object(n.useEffect)((function(){var e=!0;return X({method:"GET",url:"users/".concat(localStorage.getItem("userId"))}).then((function(t){e&&(u({value:t.data.data.firstName,error:!1,errorMsg:""}),g({value:t.data.data.lastName,error:!1,errorMsg:""}),_({value:t.data.data.email,error:!1,errorMsg:""}),S(!1))})).catch((function(e){return console.log(e)})),function(){e=!1}}),[]);var T=function(e,t,a){a({value:e.target.value,error:!re(e.target.value,t).isValid,errorMsg:re(e.target.value,t).msg})},L=Array.apply(null,{length:3}).map((function(e,t){return Object(k.jsx)(s.a.Fragment,{children:Object(k.jsxs)("div",{className:Ka.a.inputGp,children:[Object(k.jsx)("div",{className:Ka.a.loadingLabel}),Object(k.jsx)("div",{className:Ka.a.loadingUser})]})},t)}));return v?L:Object(k.jsxs)("div",{className:Ka.a.EditProfile,children:[Object(k.jsxs)("div",{className:Ka.a.inputGp,children:[Object(k.jsxs)("div",{className:Ka.a.inputHeader,children:[Object(k.jsx)("label",{htmlFor:"firstName",className:Ka.a.userLabel,children:"First Name"}),Object(k.jsx)("span",{className:Ka.a.errorMsg,children:l.errorMsg})]}),Object(k.jsx)("input",{onChange:function(e){return T(e,a,u)},className:"".concat(Ka.a.user," ").concat(l.error?Ka.a.error:""),type:"text",name:"firstName",value:l.value,autoComplete:"off"})]}),Object(k.jsxs)("div",{className:Ka.a.inputGp,children:[Object(k.jsxs)("div",{className:Ka.a.inputHeader,children:[Object(k.jsx)("label",{htmlFor:"lastName",className:Ka.a.userLabel,children:"Last Name"}),Object(k.jsx)("span",{className:Ka.a.errorMsg,children:h.errorMsg})]}),Object(k.jsx)("input",{onChange:function(e){return T(e,r,g)},className:"".concat(Ka.a.user," ").concat(h.error?Ka.a.error:""),type:"text",name:"lastName",value:h.value,autoComplete:"off"})]}),Object(k.jsxs)("div",{className:Ka.a.inputGp,children:[Object(k.jsxs)("div",{className:Ka.a.inputHeader,children:[Object(k.jsx)("label",{htmlFor:"email",className:Ka.a.userLabel,children:"Email"}),Object(k.jsx)("span",{className:Ka.a.errorMsg,children:f.errorMsg})]}),Object(k.jsx)("input",{onChange:function(e){return T(e,i,_)},className:"".concat(Ka.a.user," ").concat(f.error?Ka.a.error:""),type:"email",name:"email",value:f.value,autoComplete:"off"})]}),Object(k.jsx)("div",{className:Ka.a.formFooter,children:Object(k.jsx)(C,{spinner:"buttonSpinner",shape:"button1",click:function(){if(!(l.error||h.error||f.error)){var e=JSON.stringify({firstName:l.value,lastName:h.value,email:f.value});I(!0),X({headers:{Accept:"application/json","Content-Type":"application/json"},method:"PATCH",url:"users/".concat(localStorage.getItem("userId")),data:e}).then((function(e){if(I(!1),200===e.status){var a=new CustomEvent("userShouldUpdate");window.dispatchEvent(a),t.push({pathname:"/profile",state:{comingFrom:"/profile/edit"}})}})).catch((function(e){I(!1)}))}},loading:P,children:"Submit"})})]})})),$a=a(91),en=a.n($a),tn=Ie((function(){var e,t=Object(n.useState)(null),a=Object(y.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(!0),o=Object(y.a)(i,2),c=o[0],l=o[1];Object(n.useEffect)((function(){var t=!0;return X({method:"GET",url:"users/".concat(localStorage.getItem("userId"),"/likes")}).then((function(a){0===a.data.data.length?t&&r(null):t&&r(a.data.data),e=a.data.data,t&&l(!1),window.addEventListener("like",u)})).catch((function(e){console.log(e)})),function(){t=!1,window.removeEventListener("like",u)}}),[]);var u=function(t){if(t.detail.like){var a=Object(Q.a)(e);X({method:"GET",url:"songs/".concat(t.detail.id)}).then((function(t){a.unshift(t.data.data),r(a),e=a})).catch((function(e){return console.log(e)}))}else if(!t.detail.like){var n=e.filter((function(e){return e.id!=t.detail.id}));0===n.length?r(null):r(n),e=n}};return null!==s||c?Object(k.jsx)(ba,{title:"Likes",songsArray:s,loading:c,options:[{text:"Add to playlist",todo:"ADD_TO_PLAYLIST"},{text:"Play next",todo:"PLAY_NEXT"}]}):Object(k.jsx)("span",{className:en.a.noLikes,children:"You haven't liked any songs yet"})})),an=a(41),nn=a.n(an),sn=a(42),rn=a.n(sn);var on=Object(c.b)((function(e){return{isPlaying:e.audioPlaying,currentSong:e.currentSong,currentIndex:e.currentIndex,currentPlaylist:e.currentPlaylist,playingFromUploads:e.playingFromUploads}}),(function(e){return{setTrack:function(t){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))(Ie((function(e){var t=e.currentSong.id===e.data.id&&e.playingFromUploads,a=Object(n.useState)(!1),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(null),l=Object(y.a)(c,2),u=l[0],d=l[1],m=Object(n.useRef)(null),p=[{text:"Delete",todo:function(){return e.onDelete(e.data.id)}}];return Object(k.jsxs)(s.a.Fragment,{children:[i?Object(k.jsx)(be,{position:u,options:p,destroy:function(){return o(!1)}}):null,Object(k.jsxs)("div",{className:rn.a.song,onClick:function(t){"notClickable"!==t.target.id&&e.setTrack({id:e.data.id,playlist:e.data.playlist,play:!0,uploads:!0})},children:[Object(k.jsxs)("div",{className:rn.a.songData,children:[Object(k.jsx)("div",{className:rn.a.songImg,children:Object(k.jsx)("img",{src:Xe,className:rn.a.up})}),Object(k.jsx)("span",{className:rn.a.songName+" "+(t?rn.a.playing:""),title:e.data.name,children:e.data.name})]}),Object(k.jsx)("div",{className:rn.a.options,children:Object(k.jsx)(C,{id:"notClickable",shape:"queueOptions",click:function(){d(ie(m.current,p.length,!0)),o(!i)},forwardedRef:m,children:Object(k.jsx)("img",{id:"notClickable",src:Pt,className:rn.a.icon})})})]})]})}))),cn=a.p+"static/media/add.8088aad9.svg",ln=Object(c.b)((function(e){return{currentSong:e.currentSong,playingFromUploads:e.playingFromUploads}}),(function(e){return{setPlay:function(t){return e({type:"SET_PLAYING",play:t})},setTrack:function(t){return e(ce(t))}}}))(Ie((function(e){new AbortController;var t=Object(n.useState)(!0),a=Object(y.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(!1),c=Object(y.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(null),m=Object(y.a)(d,2),p=m[0],h=m[1],g=Object(n.useState)(null),j=Object(y.a)(g,2),b=j[0],_=j[1];Object(n.useEffect)((function(){f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"),"/uploads")}).then((function(e){i(!1),200===e.status?_(e.data.data):204===e.status&&_(null)})).catch((function(e){i(!1)}))}),[]);var O,x=function(t){f()({method:"DELETE",url:"users/".concat(localStorage.getItem("userId"),"/uploads/").concat(t)}).then((function(a){if(200===a.status){h("Done!");var n=b.filter((function(e){return e.id!=t}));0===n.length?_(null):_(n),e.currentSong.id==t&&e.playingFromUploads&&f()({method:"GET",url:"songs/random"}).then((function(t){console.log(t),200===t.status&&e.setTrack({id:t.data.data.songId,playlist:t.data.data.playlist,play:!0})})).catch((function(e){return console.log(e.response)}))}})).catch((function(e){return console.log(e.response)}))};return r||null!==b?!r&&b&&(O=b.map((function(e){return Object(k.jsx)(on,{data:e,onDelete:x},11*Math.random())}))):O=Object(k.jsx)("span",{className:nn.a.noUploads,children:"You don't have uploads, Click browse files to upload a song"}),Object(k.jsxs)(s.a.Fragment,{children:[null!==p?Object(k.jsx)(ye,{msg:p,destroy:function(){return h(null)}}):null,Object(k.jsxs)("div",{className:nn.a.uploads,children:[Object(k.jsxs)("div",{className:nn.a.header,children:[Object(k.jsx)("span",{className:nn.a.mainText,children:"Your Uploads"}),Object(k.jsxs)("div",{className:nn.a.fileInput,children:[Object(k.jsx)("label",{htmlFor:"song",className:nn.a.button,children:l?Object(k.jsx)(T,{shape:"buttonSpinner"}):Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("img",{src:cn,className:nn.a.icon}),Object(k.jsx)("span",{children:"Browse Files"})]})}),Object(k.jsx)("input",{id:"song",name:"song",style:{display:"none"},type:"file",onChange:function(e){return function(e){var t=new FormData;t.append("song",e),u(!0),f()({method:"POST",url:"users/".concat(localStorage.getItem("userId"),"/uploads"),headers:{"content-type":"multipart/form-data"},data:t}).then((function(e){if(console.log(e),u(!1),null===b)_([e.data.data]);else{var t=Object(Q.a)(b);t.unshift(e.data.data),_(t)}})).catch((function(e){console.log(e),console.log(e.response),u(!1)}))}(e.target.files[0])}})]})]}),Object(k.jsx)("div",{className:nn.a.content,style:{minWidth:r||null!==b?"auto":"200px"},children:O})]})]})}))),un=a(51),dn=a.n(un),mn=a(43),pn=a.n(mn),hn=Object(c.b)((function(e){return{isPlaying:e.audioPlaying,currentSong:e.currentSong,currentIndex:e.currentIndex,currentPlaylist:e.currentPlaylist,playingFromUploads:e.playingFromUploads}}),(function(e){return{setTrack:function(t){return e(ce(t))},setPlay:function(t){return e({type:"SET_PLAYING",play:t})}}}))((function(e){var t=Object(m.g)(),a=Object(n.useState)(!1),r=Object(y.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)(null),l=Object(y.a)(c,2),u=l[0],d=l[1],p=Object(n.useState)(null),h=Object(y.a)(p,2),g=h[0],j=h[1],b=Object(n.useRef)(null),f={DELETE_PLAYLIST:function(){return j("Are you sure, you want to delete ".concat(e.data.name))}},_=null;return e.playlistOptions&&(_=e.playlistOptions.map((function(e){return{text:e.text,todo:f[e.todo]}}))),Object(k.jsxs)(s.a.Fragment,{children:[i?Object(k.jsx)(be,{position:u,options:_,destroy:function(){return o(!1)}}):null,null!==g?Object(k.jsx)(je,{open:!0,destroy:function(){return j(null)},children:Object(k.jsx)(Fa,{msg:g,confirm:function(){return e.onDelete(e.data.id)},destroy:function(){return j(null)}})}):null,Object(k.jsxs)("div",{className:pn.a.playlist,onClick:function(a){"notClickable"===a.target.id||a.target.classList.contains("notClickable")||t.push("playlist/".concat(e.data.id))},children:[Object(k.jsxs)("div",{className:pn.a.playlistData,children:[Object(k.jsx)("div",{className:"".concat(pn.a.img," ").concat(null===e.data.songIds?pn.a.noSongsImg:""),style:{backgroundImage:"url(".concat(e.data.imgUrl,")")}}),Object(k.jsx)("span",{className:pn.a.playlistName,children:e.data.name})]}),Object(k.jsx)("span",{className:pn.a.sec,children:"".concat(null!==e.data.songIds&&e.data.songIds.length>0?e.data.songIds.length:"No"," Songs")}),Object(k.jsx)("div",{className:pn.a.options,children:Object(k.jsx)(C,{shape:"queueOptions",id:"notClickable",forwardedRef:b,click:function(){e.playlistOptions&&(d(ie(b.current,e.playlistOptions.length,!0)),o(!i))},children:Object(k.jsx)("img",{src:Pt,className:"".concat(pn.a.icon," notClickable")})})})]})]})})),gn=a(44),jn=a.n(gn),bn=function(e){var t={required:!0,minLength:2,maxLength:25},a=Object(n.useState)({value:"",error:!1,errorMsg:""}),s=Object(y.a)(a,2),r=s[0],i=s[1];return Object(k.jsxs)("div",{className:jn.a.upload,children:[Object(k.jsx)("div",{className:jn.a.header,children:Object(k.jsx)("span",{className:jn.a.mainText,children:"Create A New Playlist"})}),Object(k.jsxs)("div",{className:jn.a.inputContainer,children:[Object(k.jsx)("span",{className:jn.a.errorMsg,children:r.errorMsg}),Object(k.jsx)("input",{onChange:function(e){return function(e,t){i({value:e.target.value,error:!re(e.target.value,t).isValid,errorMsg:re(e.target.value,t).msg})}(e,t)},type:"text",className:"".concat(jn.a.input," ").concat(r.error?jn.a.error:""),name:"playlistName",autoComplete:"off",placeholder:"Playlist Name"})]}),Object(k.jsx)("div",{className:jn.a.footer,children:Object(k.jsx)(C,{shape:"button1",spinner:"buttonSpinner",loading:e.loading,click:function(){r.error||(e.submit(r.value),e.destroy())},children:"Create"})})]})},fn=function(e){var t=Object(n.useState)(!0),a=Object(y.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(null),c=Object(y.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(null),m=Object(y.a)(d,2),p=m[0],h=m[1];Object(n.useEffect)((function(){var t=!0;return e.location.state&&e.location.state.comingFromDeleted&&t&&h("Your Playlist Is Gone"),f()({method:"GET",url:"users/".concat(localStorage.getItem("userId"),"/playlists")}).then((function(e){t&&(i(!1),200===e.status&&u(e.data.data))})).catch((function(e){t&&i(!1)})),function(){t=!1}}),[]);var g,j=Object(n.useState)(!1),b=Object(y.a)(j,2),_=b[0],O=b[1],x=function(){var e=Object(R.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t);case 2:e.sent&&(0===(a=l.filter((function(e){return e.id!=t}))).length?u(null):u(a),h("Your playlist is gone"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=[{text:"Delete",todo:"DELETE_PLAYLIST"}];return r||null!==l?!r&&l&&(g=l.map((function(e){return Object(k.jsx)(hn,{data:e,playlistOptions:v,onDelete:x},e.id)}))):g=Object(k.jsx)("span",{className:dn.a.noPlaylists,children:"You don't have playlists, Click Create Playlist"}),Object(k.jsxs)(s.a.Fragment,{children:[null!==p?Object(k.jsx)(ye,{msg:p,destroy:function(){return h(null)}}):null,_?Object(k.jsx)(je,{open:_,destroy:function(){return O(!1)},children:Object(k.jsx)(bn,{submit:function(e){var t=JSON.stringify({name:e});f()({headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",url:"playlists",data:t}).then((function(e){if(console.log(e),201===e.status)if(null===l)u([e.data.data]);else{var t=Object(Q.a)(l);t.unshift(e.data.data),u(t),O(!1)}})).catch((function(e){return console.log(e.response)}))},loading:r,destroy:function(){return O(!1)}})}):null,Object(k.jsxs)("div",{className:dn.a.playlists,children:[Object(k.jsxs)("div",{className:dn.a.header,children:[Object(k.jsx)("span",{className:dn.a.mainText,children:"Your Playlists"}),Object(k.jsx)("button",{className:dn.a.button,onClick:function(){return O(!0)},children:"Create Playlist"})]}),Object(k.jsx)("div",{className:dn.a.content,style:{minWidth:r||null!==l?"auto":"200px"},children:g})]})]})},_n=Ie((function(e){var t=Object(m.g)(),a={required:!0,minLength:5,maxLength:30},s=Object(n.useState)({value:"",error:!1,errorMsg:""}),r=Object(y.a)(s,2),i=r[0],o=r[1],c=Object(n.useState)({value:"",error:!1,errorMsg:""}),l=Object(y.a)(c,2),u=l[0],d=l[1],p=Object(n.useState)(!1),h=Object(y.a)(p,2),g=h[0],j=h[1],b=function(e,t,a){a({value:e.target.value,error:!re(e.target.value,t).isValid,errorMsg:re(e.target.value,t).msg})};return Object(k.jsxs)("div",{className:Ka.a.EditProfile,children:[Object(k.jsxs)("div",{className:Ka.a.inputGp,children:[Object(k.jsxs)("div",{className:Ka.a.inputHeader,children:[Object(k.jsx)("label",{htmlFor:"oldPassword",className:Ka.a.userLabel,children:"Your Old Password"}),Object(k.jsx)("span",{className:Ka.a.errorMsg,children:i.errorMsg})]}),Object(k.jsx)("input",{onChange:function(e){return b(e,a,o)},className:"".concat(Ka.a.user," ").concat(i.error?Ka.a.error:""),type:"password",name:"oldPassword",value:i.value,autoComplete:"off",placeholder:"Old Password"})]}),Object(k.jsxs)("div",{className:Ka.a.inputGp,children:[Object(k.jsxs)("div",{className:Ka.a.inputHeader,children:[Object(k.jsx)("label",{htmlFor:"newPassword",className:Ka.a.userLabel,children:"New Password"}),Object(k.jsx)("span",{className:Ka.a.errorMsg,children:u.errorMsg})]}),Object(k.jsx)("input",{onChange:function(e){return b(e,a,d)},className:"".concat(Ka.a.user," ").concat(u.error?Ka.a.error:""),type:"password",name:"newPassword",value:u.value,autoComplete:"off",placeholder:"New Password"})]}),Object(k.jsx)("div",{className:Ka.a.formFooter,children:Object(k.jsx)(C,{spinner:"buttonSpinner",shape:"button1",click:function(){if(!i.error&&!u.error){var e=JSON.stringify({oldPassword:i.value,newPassword:u.value});j(!0),X({headers:{Accept:"application/json","Content-Type":"application/json"},method:"PATCH",url:"users/".concat(localStorage.getItem("userId")),data:e}).then((function(e){j(!1),200===e.status&&t.push({pathname:"/profile",state:{comingFrom:"/passwords"}})})).catch((function(e){j(!1)}))}},loading:g,children:"Submit"})})]})})),On=Object(c.b)((function(e){return{withMenu:e.showMenu}}),(function(e){return{setShowMenu:function(t){return e({type:"SHOW_MENU",show:t})}}}))((function(e){return Object(n.useEffect)((function(){window.innerWidth<1250&&e.setShowMenu(!1)}),[e.location.pathname]),Object(k.jsxs)(za,{children:[Object(k.jsx)(Wt,{type:"user"}),Object(k.jsx)("div",{className:"mainContentContainer",style:{paddingLeft:e.withMenu&&window.innerWidth>1250?"240px":"20px"},children:Object(k.jsxs)("div",{className:"contentContainer",children:[Object(k.jsx)(Qa,{}),Object(k.jsx)(m.b,{path:"/profile",exact:!0,component:Xa}),Object(k.jsx)(m.b,{path:"/profile/edit",exact:!0,component:Za}),Object(k.jsx)(m.b,{path:"/passwords",exact:!0,component:_n}),Object(k.jsx)(m.b,{path:"/likes",exact:!0,component:tn}),Object(k.jsx)(m.b,{path:"/uploads",exact:!0,component:ln}),Object(k.jsx)(m.b,{path:"/playlists",exact:!0,component:fn})]})})]})})),xn=a(69),yn=a.n(xn);var vn=function(){return Object(k.jsxs)("div",{className:yn.a.container,children:[Object(k.jsx)("img",{src:Ne,className:yn.a.warning}),Object(k.jsx)("span",{className:yn.a.text,children:"Sorry, We Couldn't Find What You're Looking For"})]})};var Sn=function(){return Object(k.jsxs)("div",{className:"main",children:[Object(k.jsx)(Ye,{}),Object(k.jsxs)(m.d,{children:[Object(k.jsx)(m.b,{path:"/profile",exact:!0,component:On}),Object(k.jsx)(m.b,{path:"/profile/edit",exact:!0,component:On}),Object(k.jsx)(m.b,{path:"/passwords",exact:!0,component:On}),Object(k.jsx)(m.b,{path:"/likes",exact:!0,component:On}),Object(k.jsx)(m.b,{path:"/uploads",exact:!0,component:On}),Object(k.jsx)(m.b,{path:"/playlists",exact:!0,component:On}),Object(k.jsx)(m.b,{path:"/",exact:!0,component:Ya}),Object(k.jsx)(m.b,{path:"/explore",exact:!0,component:Ya}),Object(k.jsx)(m.b,{path:"/artists",exact:!0,component:Ya}),Object(k.jsx)(m.b,{path:"/artist/:id",exact:!0,component:Ya}),Object(k.jsx)(m.b,{path:"/album/:id",exact:!0,component:Ya}),Object(k.jsx)(m.b,{path:"/playlist/:id",exact:!0,component:Ya}),Object(k.jsx)(m.b,{component:vn})]}),Object(k.jsx)(Lt,{})]})},Nn=a(19),wn=a.n(Nn),Pn=a(62),In=a.n(Pn),kn=function(e){var t=!e.valid&&e.touched?Object(k.jsx)("span",{className:In.a.errorText,children:e.msg}):null,a=[In.a[e.shape]];return!e.valid&&e.touched&&a.push(In.a.error),Object(k.jsxs)("div",{className:In.a.container,children:[Object(k.jsx)("input",Object(l.a)(Object(l.a)({className:a.join(" ")},e.attrs),{},{onChange:e.change})),t]})},Tn=a.p+"static/media/logo.fcf16d10.svg",Cn=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={form:{email:{style:"input1",msg:"",attrs:{type:"email",name:"email",placeholder:"Email",autoComplete:"off",value:""},validation:{required:!0},touched:!1,isValid:!1},password:{style:"input1",msg:"",attrs:{type:"password",name:"password",placeholder:"Password",autoComplete:"off",value:""},validation:{required:!0,minLength:5,maxLength:30},isValid:!1,touched:!1}},canSubmit:!1,loading:!1},e.inputChangeHandler=function(t,a){var n=Object(l.a)({},e.state.form),s=Object(l.a)({},n[a]),r=Object(l.a)({},s.attrs);r.value=t.target.value,s.isValid=e.checkValidity(r.value,s.validation).isValid,s.msg=e.checkValidity(r.value,s.validation).msg,s.touched=!0;var i=!0;for(var o in n)i=n[o].isValid&&i;s.attrs=r,n[a]=s,e.setState({form:n,canSubmit:i})},e.submitHandler=function(t){t.preventDefault(),e.setState({loading:!0});var a={};for(var n in e.state.form)a[n]=e.state.form[n].attrs.value;var s=JSON.stringify(a);X({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},url:"sessions",data:s}).then((function(t){200===t.status&&(e.setState({loading:!1}),localStorage.setItem("sessId",t.data.data.session.sessId),localStorage.setItem("userId",t.data.data.session.userId),localStorage.setItem("accessToken",t.data.data.session.accessToken),e.props.location.state.comingFrom?e.props.history.push(e.props.location.state.comingFrom):e.props.history.push("/"))})).catch((function(t){e.setState({loading:!1})}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state&&this.props.location.state.guest&&this.setState({form:Object(l.a)(Object(l.a)({},this.state.form),{},{email:Object(l.a)(Object(l.a)({},this.state.form.email),{},{attrs:Object(l.a)(Object(l.a)({},this.state.form.email.attrs),{},{value:"guest@heartbeats.com"})}),password:Object(l.a)(Object(l.a)({},this.state.form.password),{},{attrs:Object(l.a)(Object(l.a)({},this.state.form.password.attrs),{},{value:"123456789"})})})})}},{key:"checkValidity",value:function(e,t){var a=!0,n="";return t.required&&!(a=""!==e.trim()&&a)?{isValid:a,msg:n="This input can't be empty"}:t.minLength&&!(a=e.length>=t.minLength&&a)?{isValid:a,msg:n="Please enter a value longer than "+t.minLength+" characters"}:t.maxLength&&!(a=e.length<=t.maxLength&&a)?{isValid:a,msg:n="Please enter a value less than "+t.maxLength+" characters"}:{isValid:a,msg:n}}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.form)t.push({id:a,data:this.state.form[a]});return Object(k.jsx)("div",{className:wn.a.mainContainer,children:Object(k.jsxs)("div",{className:wn.a.authContainer,children:[Object(k.jsxs)("div",{className:wn.a.header,children:[Object(k.jsx)(_.b,{to:"/",children:Object(k.jsx)("img",{src:Tn,className:wn.a.logo})}),Object(k.jsx)("h1",{className:wn.a.mainText,children:"Login to continue"})]}),Object(k.jsxs)("form",{className:wn.a.form,onSubmit:this.submitHandler,children:[t.map((function(t){return Object(k.jsx)(kn,{shape:t.data.style,touched:t.data.touched,valid:t.data.isValid,msg:t.data.msg,attrs:t.data.attrs,change:function(a){return e.inputChangeHandler(a,t.id)}},t.id)})),Object(k.jsxs)("div",{className:wn.a.btnContainer,children:[Object(k.jsx)(C,{shape:"button1",loading:this.state.loading,spinner:"buttonSpinner",children:"Login"}),Object(k.jsx)(_.b,{className:wn.a.link,to:"/register",children:Object(k.jsx)("span",{className:wn.a.switchText,children:"New to heartbeats? Register here!"})})]})]})]})})}}]),a}(n.Component),Ln=Object(m.h)(Ie(Cn)),An=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={form:{firstName:{style:"input1",msg:"",attrs:{type:"text",name:"firstName",placeholder:"First Name",autoComplete:"off",value:""},validation:{required:!0,minLength:2,maxLength:25},touched:!1,isValid:!1},lastName:{style:"input1",msg:"",attrs:{type:"text",name:"lastName",placeholder:"Last Name",autoComplete:"off",value:""},validation:{required:!0,minLength:2,maxLength:25},isValid:!1,touched:!1},email:{style:"input1",msg:"",attrs:{type:"email",name:"email",placeholder:"Your email",autoComplete:"off",value:""},validation:{required:!0},isValid:!1,touched:!1},password:{style:"input1",msg:"",attrs:{type:"password",name:"password",placeholder:"Your password",autoComplete:"off",value:""},validation:{required:!0,minLength:5,maxLength:30},isValid:!1,touched:!1}},canSubmit:!1,loading:!1},e.inputChangeHandler=function(t,a){var n=Object(l.a)({},e.state.form),s=Object(l.a)({},n[a]),r=Object(l.a)({},s.attrs);r.value=t.target.value,s.isValid=e.checkValidity(r.value,s.validation).isValid,s.msg=e.checkValidity(r.value,s.validation).msg,s.touched=!0;var i=!0;for(var o in n)i=n[o].isValid&&i;s.attrs=r,n[a]=s,e.setState({form:n,canSubmit:i})},e.submitHandler=function(t){if(e.state.canSubmit){t.preventDefault(),e.setState({loading:!0});var a={};for(var n in e.state.form)a[n]=e.state.form[n].attrs.value;var s=JSON.stringify(a);console.log(s),X({headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",url:"users",data:s}).then((function(t){console.log(t),201===t.status&&(e.setState({loading:!1}),localStorage.setItem("sessId",t.data.data.session.sessId),localStorage.setItem("userId",t.data.data.session.userId),localStorage.setItem("accessToken",t.data.data.session.accessToken),e.props.history.push("/"))})).catch((function(t){console.log(t),e.setState({loading:!1})}))}else t.preventDefault(),alert("Please, Fill All Required Fields!")},e}return Object(h.a)(a,[{key:"checkValidity",value:function(e,t){var a=!0,n="";return t.required&&!(a=""!==e.trim()&&a)?{isValid:a,msg:n="This input can't be empty"}:t.minLength&&!(a=e.length>=t.minLength&&a)?{isValid:a,msg:n="Please enter a value longer than "+t.minLength+" characters"}:t.maxLength&&!(a=e.length<=t.maxLength&&a)?{isValid:a,msg:n="Please enter a value less than "+t.maxLength+" characters"}:{isValid:a,msg:n}}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.form)t.push({id:a,data:this.state.form[a]});return Object(k.jsx)("div",{className:wn.a.mainContainer,children:Object(k.jsxs)("div",{className:wn.a.authContainer,children:[Object(k.jsxs)("div",{className:wn.a.header,children:[Object(k.jsx)(_.b,{to:"/",children:Object(k.jsx)("img",{src:Tn,className:wn.a.logo})}),Object(k.jsx)("h1",{className:wn.a.mainText,children:"Create a new account"})]}),Object(k.jsxs)("form",{className:wn.a.form,onSubmit:this.submitHandler,children:[t.map((function(t){return Object(k.jsx)(kn,{shape:t.data.style,touched:t.data.touched,valid:t.data.isValid,msg:t.data.msg,attrs:t.data.attrs,change:function(a){return e.inputChangeHandler(a,t.id)}},t.id)})),Object(k.jsxs)("div",{className:wn.a.btnContainer,children:[Object(k.jsx)(C,{shape:"button1",spinner:"buttonSpinner",loading:this.state.loading,children:"Register"}),Object(k.jsx)(_.b,{className:wn.a.link,to:"/auth",children:Object(k.jsx)("span",{className:wn.a.switchText,children:"Already have an account? Login here!"})})]})]})]})})}}]),a}(n.Component),En=Object(m.h)(Ie(An)),Dn=function(e){var t=Object(n.useState)(null),a=Object(y.a)(t,2),s=a[0],r=a[1],i=Object(m.g)();Object(n.useEffect)((function(){c()}),[]);var o,c=function(){var e=Object(R.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:e.sent?(i.push("/"),r(!0)):r(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s?o=null:s||(o=e.children),o};var Bn=function(){return Object(k.jsx)(_.a,{children:Object(k.jsxs)(m.d,{children:[Object(k.jsx)(m.b,{path:"/auth",exact:!0,render:function(){return Object(k.jsx)(Dn,{children:Object(k.jsx)(Ln,{})})}}),Object(k.jsx)(m.b,{path:"/register",exact:!0,render:function(){return Object(k.jsx)(Dn,{children:Object(k.jsx)(En,{})})}}),Object(k.jsx)(m.b,{path:"/",component:Sn})]})})},Mn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,124)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))},Un=a(92);f.a.defaults.baseURL="https://heartbeatsproject.online/v1/",f.a.interceptors.request.use((function(e){return null!==localStorage.getItem("accessToken")&&(e.headers.Authorization=localStorage.getItem("accessToken")),e}));var Rn=Object(o.c)(d,Object(o.a)(Un.a));i.a.render(Object(k.jsx)(c.a,{store:Rn,children:Object(k.jsx)(Bn,{})}),document.getElementById("root")),Mn()}],[[123,1,2]]]);
//# sourceMappingURL=main.92c7141e.chunk.js.map